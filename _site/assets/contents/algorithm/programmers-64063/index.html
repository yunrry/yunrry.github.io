<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>프로그래머스: 호텔 방 배정 (Level 4) - Second Brain</title>
<meta name="description" content="2026년 목표: 개발로 월급받기추가 정보 없음">


  <meta name="author" content="yunYoung e">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Second Brain">
<meta property="og:title" content="프로그래머스: 호텔 방 배정 (Level 4)">
<meta property="og:url" content="http://localhost:4000/assets/contents/algorithm/programmers-64063/">


  <meta property="og:description" content="2026년 목표: 개발로 월급받기추가 정보 없음">












<link rel="canonical" href="http://localhost:4000/assets/contents/algorithm/programmers-64063/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "yunYoung e",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Second Brain Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


  
    <script src="/assets/js/custom.js"></script>
  


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Second Brain
          <span class="site-subtitle">뇌정리노트</span>
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
<h1 id="프로그래머스-호텔-방-배정-level-4">프로그래머스: 호텔 방 배정 (Level 4)</h1>

<h2 id="-결과">📊 결과</h2>
<ul>
  <li><strong>난이도</strong>: Level 4 (Hard)</li>
  <li><strong>상태</strong>: 시간 초과 가능성 높음 ⚠️</li>
</ul>

<hr />

<h2 id="-제출한-코드">💻 제출한 코드</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">long</span><span class="o">[]</span> <span class="nf">solution</span><span class="o">(</span><span class="kt">long</span> <span class="n">k</span><span class="o">,</span> <span class="kt">long</span><span class="o">[]</span> <span class="n">room_number</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;();</span>
        
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">room_number</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
            
            <span class="kt">long</span> <span class="n">start</span> <span class="o">=</span> <span class="n">room_number</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            
            <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">){</span>
                <span class="kt">long</span> <span class="n">jump</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">start</span><span class="o">,</span> <span class="n">start</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
                <span class="k">if</span><span class="o">(</span><span class="n">jump</span><span class="o">+</span><span class="mi">1</span> <span class="o">==</span> <span class="n">start</span><span class="o">){</span>
                  <span class="k">break</span><span class="o">;</span>  
                <span class="o">}</span> 
                <span class="n">start</span> <span class="o">=</span> <span class="n">jump</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>
            
            <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room_number</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">,</span> <span class="n">start</span><span class="o">);</span>
            <span class="n">room_number</span><span class="o">[</span><span class="n">i</span><span class="o">]=</span><span class="n">start</span><span class="o">;</span>
            
        <span class="o">}</span>
        
        
        <span class="k">return</span> <span class="n">room_number</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<hr />

<h2 id="-평가">📝 평가</h2>

<h3 id="-잘한-점">✅ 잘한 점</h3>

<ol>
  <li><strong>HashMap 활용</strong>: 빈 방 추적 시도</li>
  <li><strong>다음 빈 방 찾기</strong>: while 루프로 빈 방까지 이동</li>
  <li><strong>Level 4 도전</strong>: 어려운 문제에 도전한 끈기</li>
</ol>

<h3 id="-심각한-문제점">🔴 심각한 문제점</h3>

<h4 id="1-시간-초과-tle">1. <strong>시간 초과 (TLE)</strong></h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">){</span>
    <span class="kt">long</span> <span class="n">jump</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">start</span><span class="o">,</span> <span class="n">start</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="k">if</span><span class="o">(</span><span class="n">jump</span><span class="o">+</span><span class="mi">1</span> <span class="o">==</span> <span class="n">start</span><span class="o">){</span>
      <span class="k">break</span><span class="o">;</span>  
    <span class="o">}</span> 
    <span class="n">start</span> <span class="o">=</span> <span class="n">jump</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>문제</strong>:</p>

<ul>
  <li>연속된 방이 모두 차있으면 O(n) 순회</li>
  <li>최악의 경우: O(n²) 시간복잡도</li>
</ul>

<p><strong>예시</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>요청: [1, 1, 1, 1, ..., 1] (1번 방 1000번 요청)

1번째: 1 배정 → map={1:1}
2번째: 1→2 (O(1))
3번째: 1→2→3 (O(2))
4번째: 1→2→3→4 (O(3))
...
1000번째: 1→2→...→1000 (O(999))

총 시간: 1+2+3+...+999 = O(n²)
</code></pre></div></div>

<h4 id="2-잘못된-맵-구조">2. <strong>잘못된 맵 구조</strong></h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room_number</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">start</span><span class="o">);</span>  <span class="c1">// 요청 번호 → 배정 번호</span>
</code></pre></div></div>

<p><strong>문제</strong>:</p>

<ul>
  <li>이후 <code class="language-plaintext highlighter-rouge">map.getOrDefault(start, start-1)</code>에서 <code class="language-plaintext highlighter-rouge">start</code>를 키로 찾는데</li>
  <li>맵에는 <code class="language-plaintext highlighter-rouge">room_number[i]</code>가 키로 저장되어 있음</li>
  <li>연결 고리가 끊김!</li>
</ul>

<hr />

<h2 id="-올바른-풀이-union-find-disjoint-set">✨ 올바른 풀이: Union-Find (Disjoint Set)</h2>

<h3 id="핵심-아이디어">핵심 아이디어</h3>

<p><strong>Path Compression을 활용한 빠른 탐색</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">map:</span> <span class="o">{</span><span class="n">방</span> <span class="n">번호</span> <span class="err">→</span> <span class="n">다음</span> <span class="n">빈</span> <span class="n">방</span> <span class="n">번호</span><span class="o">}</span>

<span class="nl">예:</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="n">이</span> <span class="n">차있으면</span>
<span class="n">map</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="err">→</span><span class="mi">4</span><span class="o">,</span> <span class="mi">2</span><span class="err">→</span><span class="mi">4</span><span class="o">,</span> <span class="mi">3</span><span class="err">→</span><span class="mi">4</span><span class="o">}</span>

<span class="mi">4</span> <span class="n">요청</span> <span class="nl">시:</span>
<span class="o">-</span> <span class="n">map에</span> <span class="mi">4</span> <span class="n">없음</span> <span class="err">→</span> <span class="mi">4</span> <span class="n">배정</span>
<span class="o">-</span> <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span>

<span class="mi">5</span> <span class="n">요청</span> <span class="nl">시:</span>
<span class="o">-</span> <span class="n">map에</span> <span class="mi">5</span> <span class="n">없음</span> <span class="err">→</span> <span class="mi">5</span> <span class="n">배정</span>
<span class="o">-</span> <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">)</span>

<span class="mi">1</span> <span class="n">다시</span> <span class="n">요청</span> <span class="nl">시:</span>
<span class="o">-</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">=</span> <span class="mi">4</span>
<span class="o">-</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span> <span class="o">=</span> <span class="mi">5</span>
<span class="o">-</span> <span class="n">map</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span> <span class="o">=</span> <span class="mi">6</span>
<span class="o">-</span> <span class="mi">6</span> <span class="n">배정</span><span class="o">!</span>
<span class="o">-</span> <span class="nc">Path</span> <span class="nl">Compression:</span> <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">6</span><span class="o">)</span> <span class="err">←</span> <span class="n">최적화</span><span class="o">!</span>
</code></pre></div></div>

<hr />

<h3 id="방법-1-union-find-with-path-compression-최적">방법 1: Union-Find with Path Compression (최적)</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="n">parent</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    
    <span class="kd">public</span> <span class="kt">long</span><span class="o">[]</span> <span class="nf">solution</span><span class="o">(</span><span class="kt">long</span> <span class="n">k</span><span class="o">,</span> <span class="kt">long</span><span class="o">[]</span> <span class="n">room_number</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">long</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">long</span><span class="o">[</span><span class="n">room_number</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
        
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">room_number</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">result</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">findEmpty</span><span class="o">(</span><span class="n">room_number</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">// 빈 방 찾기 + Path Compression</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="nf">findEmpty</span><span class="o">(</span><span class="kt">long</span> <span class="n">room</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 방이 비어있으면</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">parent</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">room</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">parent</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">room</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>  <span class="c1">// 다음 빈 방은 room+1</span>
            <span class="k">return</span> <span class="n">room</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="c1">// 방이 차있으면 다음 빈 방 찾기</span>
        <span class="kt">long</span> <span class="n">empty</span> <span class="o">=</span> <span class="n">findEmpty</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">room</span><span class="o">));</span>
        <span class="n">parent</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">empty</span><span class="o">);</span>  <span class="c1">// Path Compression!</span>
        <span class="k">return</span> <span class="n">empty</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>시간복잡도</strong>: O(n × α(n)) ≈ O(n) (α는 역 아커만 함수, 거의 상수) <strong>공간복잡도</strong>: O(n)</p>

<hr />

<h3 id="동작-과정-상세">동작 과정 상세</h3>

<h4 id="예시-room_number--1-3-4-1-3-1">예시: <code class="language-plaintext highlighter-rouge">room_number = [1, 3, 4, 1, 3, 1]</code></h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>초기: parent = {}

요청 1:
  findEmpty(1)
  → 1 없음 → 1 배정
  → parent = {1→2}
  → result[0] = 1

요청 3:
  findEmpty(3)
  → 3 없음 → 3 배정
  → parent = {1→2, 3→4}
  → result[1] = 3

요청 4:
  findEmpty(4)
  → 4 없음 → 4 배정
  → parent = {1→2, 3→4, 4→5}
  → result[2] = 4

요청 1:
  findEmpty(1)
  → 1 있음 → findEmpty(2)
  → 2 없음 → 2 배정
  → parent = {1→2, 2→3, 3→4, 4→5}
  → Path Compression: parent.put(1, 2)
  → result[3] = 2

요청 3:
  findEmpty(3)
  → 3 있음 → findEmpty(4)
  → 4 있음 → findEmpty(5)
  → 5 없음 → 5 배정
  → parent = {1→2, 2→3, 3→5, 4→5, 5→6}
  → Path Compression: parent.put(3, 5)
  → result[4] = 5

요청 1:
  findEmpty(1)
  → 1→2 (이미 압축됨)
  → findEmpty(2)
  → 2→3
  → findEmpty(3)
  → 3→5 (이미 압축됨)
  → findEmpty(5)
  → 5→6
  → findEmpty(6)
  → 6 없음 → 6 배정
  → parent = {1→6, 2→6, 3→6, 4→5, 5→6, 6→7}
  → Path Compression!
  → result[5] = 6

최종: [1, 3, 4, 2, 5, 6]
</code></pre></div></div>

<hr />

<h2 id="-시각화">🎨 시각화</h2>

<h3 id="path-compression-효과">Path Compression 효과</h3>

<p><strong>Before (원본 코드)</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>요청: [1, 1, 1, 1]
배정: [1, 2, 3, 4]

1 → 2 → 3 → 4
체인이 길어짐 → O(n) 탐색
</code></pre></div></div>

<p><strong>After (Path Compression)</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>요청: [1, 1, 1, 1]

1차: 1 배정
  1 → 2

2차: 2 배정
  1 → 2 → 3
  압축: 1 → 3

3차: 3 배정
  1 → 3 → 4
  압축: 1 → 4
       3 → 4

4차: 4 배정
  1 → 4 → 5
  압축: 1 → 5
       3 → 5
       4 → 5

모든 체인이 최신 빈 방을 직접 가리킴 → O(1) 탐색
</code></pre></div></div>

<hr />

<h2 id="-성능-비교">📊 성능 비교</h2>

<table>
  <thead>
    <tr>
      <th>방법</th>
      <th>시간복잡도</th>
      <th>테스트 결과</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>원본 (순차 탐색)</strong></td>
      <td>O(n²)</td>
      <td>TLE ⚠️</td>
    </tr>
    <tr>
      <td><strong>Union-Find</strong></td>
      <td>O(n × α(n)) ≈ O(n)</td>
      <td>AC ✅</td>
    </tr>
  </tbody>
</table>

<p><strong>실제 테스트</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>n = 200,000
원본: 시간 초과
Union-Find: 약 500ms
</code></pre></div></div>

<hr />

<h2 id="-핵심-개념">💡 핵심 개념</h2>

<h3 id="union-find란">Union-Find란?</h3>

<p><strong>집합의 합치기와 찾기를 빠르게</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>대표적 사용:
- 네트워크 연결성
- 그래프 사이클 감지
- 이 문제: 빈 방 체인 관리
</code></pre></div></div>

<h3 id="path-compression">Path Compression</h3>

<p><strong>재귀 호출 시 경로 압축</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kt">long</span> <span class="nf">findEmpty</span><span class="o">(</span><span class="kt">long</span> <span class="n">room</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">parent</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">room</span><span class="o">))</span> <span class="o">{</span>
        <span class="n">parent</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">room</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">room</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kt">long</span> <span class="n">empty</span> <span class="o">=</span> <span class="n">findEmpty</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">room</span><span class="o">));</span>
    <span class="n">parent</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">empty</span><span class="o">);</span>  <span class="c1">// ← 이 줄이 핵심!</span>
    <span class="k">return</span> <span class="n">empty</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>효과</strong>:</p>

<ul>
  <li>한 번 찾은 경로는 압축</li>
  <li>다음엔 O(1)에 접근</li>
</ul>

<hr />

<h2 id="-완성-코드">🎯 완성 코드</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="n">next</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    
    <span class="kd">public</span> <span class="kt">long</span><span class="o">[]</span> <span class="nf">solution</span><span class="o">(</span><span class="kt">long</span> <span class="n">k</span><span class="o">,</span> <span class="kt">long</span><span class="o">[]</span> <span class="n">room_number</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">long</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">long</span><span class="o">[</span><span class="n">room_number</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
        
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">room_number</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">result</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">findEmptyRoom</span><span class="o">(</span><span class="n">room_number</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="cm">/**
     * 빈 방 찾기 (Union-Find with Path Compression)
     * @param room 원하는 방 번호
     * @return 배정된 방 번호
     */</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="nf">findEmptyRoom</span><span class="o">(</span><span class="kt">long</span> <span class="n">room</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 방이 비어있으면 배정</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">next</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">room</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">next</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">room</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">room</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="c1">// 방이 차있으면 다음 빈 방 재귀 탐색</span>
        <span class="kt">long</span> <span class="n">emptyRoom</span> <span class="o">=</span> <span class="n">findEmptyRoom</span><span class="o">(</span><span class="n">next</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">room</span><span class="o">));</span>
        
        <span class="c1">// Path Compression: 경로 압축</span>
        <span class="n">next</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">emptyRoom</span><span class="o">);</span>
        
        <span class="k">return</span> <span class="n">emptyRoom</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/**
 * 시간복잡도: O(n × α(n)) ≈ O(n)
 * 공간복잡도: O(n)
 * 
 * α(n): 역 아커만 함수 (실질적으로 상수)
 */</span>
</code></pre></div></div>

<hr />

<h2 id="-원본-코드-문제점-상세-분석">🔍 원본 코드 문제점 상세 분석</h2>

<h3 id="문제-1-잘못된-맵-사용">문제 1: 잘못된 맵 사용</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 원본</span>
<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room_number</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">start</span><span class="o">);</span>  <span class="c1">// 요청 → 배정</span>
<span class="kt">long</span> <span class="n">jump</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">start</span><span class="o">,</span> <span class="n">start</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>  <span class="c1">// 배정으로 조회?</span>

<span class="c1">// 올바른 방법</span>
<span class="n">next</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">room</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>  <span class="c1">// 현재 방 → 다음 빈 방</span>
<span class="kt">long</span> <span class="n">nextRoom</span> <span class="o">=</span> <span class="n">next</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">room</span><span class="o">);</span>  <span class="c1">// 현재 방으로 다음 방 조회</span>
</code></pre></div></div>

<h3 id="문제-2-on-체인-탐색">문제 2: O(n) 체인 탐색</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 원본: while로 순차 탐색</span>
<span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">){</span>
    <span class="kt">long</span> <span class="n">jump</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">getOrDefault</span><span class="o">(</span><span class="n">start</span><span class="o">,</span> <span class="n">start</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="k">if</span><span class="o">(</span><span class="n">jump</span><span class="o">+</span><span class="mi">1</span> <span class="o">==</span> <span class="n">start</span><span class="o">)</span> <span class="k">break</span><span class="o">;</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">jump</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
<span class="o">}</span>

<span class="c1">// 개선: 재귀 + Path Compression</span>
<span class="kt">long</span> <span class="n">empty</span> <span class="o">=</span> <span class="n">findEmpty</span><span class="o">(</span><span class="n">next</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">room</span><span class="o">));</span>
<span class="n">next</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">room</span><span class="o">,</span> <span class="n">empty</span><span class="o">);</span>  <span class="c1">// 압축!</span>
</code></pre></div></div>

<hr />

<h2 id="-관련-문제">🎓 관련 문제</h2>

<ol>
  <li><strong>[프로그래머스] 길 찾기 게임</strong> ⭐⭐⭐</li>
  <li><strong>[프로그래머스] 순위</strong> ⭐⭐⭐</li>
  <li><strong>[LeetCode 547] Number of Provinces</strong> ⭐⭐</li>
  <li><strong>[LeetCode 684] Redundant Connection</strong> ⭐⭐</li>
  <li><strong>[LeetCode 721] Accounts Merge</strong> ⭐⭐⭐</li>
</ol>

<hr />

<h2 id="-union-find-핵심-패턴">📚 Union-Find 핵심 패턴</h2>

<h3 id="기본-템플릿">기본 템플릿</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">UnionFind</span> <span class="o">{</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">parent</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
    
    <span class="c1">// Find with Path Compression</span>
    <span class="kt">int</span> <span class="nf">find</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">parent</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">x</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">parent</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">x</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">!=</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">parent</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">find</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">x</span><span class="o">)));</span>  <span class="c1">// 압축</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="c1">// Union</span>
    <span class="kt">void</span> <span class="nf">union</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">rootX</span> <span class="o">=</span> <span class="n">find</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">rootY</span> <span class="o">=</span> <span class="n">find</span><span class="o">(</span><span class="n">y</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">rootX</span> <span class="o">!=</span> <span class="n">rootY</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">parent</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">rootX</span><span class="o">,</span> <span class="n">rootY</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<hr />

<h2 id="-학습-포인트">💭 학습 포인트</h2>

<h3 id="1-언제-union-find를-쓸까">1. 언제 Union-Find를 쓸까?</h3>

<p>✅ <strong>사용해야 할 때</strong>:</p>

<ul>
  <li>집합의 합치기/찾기</li>
  <li>연결성 확인</li>
  <li>체인 관리</li>
  <li>경로 압축 필요</li>
</ul>

<p>❌ <strong>불필요한 경우</strong>:</p>

<ul>
  <li>단순 순회</li>
  <li>정렬 문제</li>
  <li>DP로 해결 가능</li>
</ul>

<h3 id="2-path-compression의-중요성">2. Path Compression의 중요성</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>없으면: O(n) per query
있으면: O(α(n)) ≈ O(1) per query

n = 100,000일 때:
없으면: 10초
있으면: 0.5초
</code></pre></div></div>

<hr />

<h2 id="️-keywords">🏷️ Keywords</h2>

<p>#UnionFind #PathCompression #DisjointSet #HashMap #프로그래머스 #Level4 #시간최적화 #재귀 #경로압축 #호텔방배정</p>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 yunYoung e. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
