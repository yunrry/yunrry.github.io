<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>인덱스 Index - Second Brain</title>
<meta name="description" content="2026년 목표: 개발로 월급받기추가 정보 없음">


  <meta name="author" content="yunYoung e">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Second Brain">
<meta property="og:title" content="인덱스 Index">
<meta property="og:url" content="http://localhost:4000/assets/contents/cs/">


  <meta property="og:description" content="2026년 목표: 개발로 월급받기추가 정보 없음">












<link rel="canonical" href="http://localhost:4000/assets/contents/cs/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "yunYoung e",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Second Brain Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


  
    <script src="/assets/js/custom.js"></script>
  


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Second Brain
          <span class="site-subtitle">뇌정리노트</span>
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <h1 id="인덱스-index">인덱스 Index</h1>

<h2 id="-인덱스란">📌 인덱스란?</h2>

<p><strong>데이터베이스 테이블의 검색 속도를 향상시키기 위한 자료구조</strong></p>

<p>책의 “목차” 또는 “색인”과 같은 개념이다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>책에서 특정 단어 찾기:
❌ 인덱스 없음 → 1페이지부터 끝까지 전부 읽기 (Full Scan)
✅ 인덱스 있음 → 색인에서 페이지 번호 찾고 바로 이동
</code></pre></div></div>

<hr />

<h2 id="-인덱스의-내부-구조-b-tree-balanced-tree">🌳 인덱스의 내부 구조: B-Tree (Balanced Tree)</h2>

<h3 id="b-tree-구조">B-Tree 구조</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                    [50]                  ← Root Node (루트)
                   /    \
                 /        \
            [20, 30]    [70, 90]          ← Branch Node (가지)
           /   |   \    /   |   \
         /     |     \ /     |     \
    [10,15] [25,28] [35,40] ...           ← Leaf Node (리프)
       ↓      ↓      ↓
    실제데이터 실제데이터 실제데이터          ← Data Pointer
</code></pre></div></div>

<h3 id="b-tree의-특징">B-Tree의 특징</h3>

<ol>
  <li><strong>균형 잡힌 트리</strong>: 모든 리프 노드가 같은 레벨</li>
  <li><strong>정렬된 상태 유지</strong>: 항상 오름차순 정렬</li>
  <li><strong>시간 복잡도</strong>: O(log N) - 매우 빠름</li>
  <li><strong>다중 자식 노드</strong>: 한 노드에 여러 키 저장 (2개 이상)</li>
</ol>

<h3 id="검색-과정-예시">검색 과정 예시</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">35</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>인덱스 없을 때:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>행1 → 행2 → 행3 → ... → 행35 (35번 비교)
시간 복잡도: O(N)
</code></pre></div></div>

<p><strong>인덱스 있을 때:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Root [50] → 35 &lt; 50 → 왼쪽
Branch [20, 30] → 35 &gt; 30 → 오른쪽
Leaf [35, 40] → 찾음! (3번 비교)
시간 복잡도: O(log N)
</code></pre></div></div>

<hr />

<h2 id="-인덱스-생성-문법">🔧 인덱스 생성 문법</h2>

<h3 id="1-단일-컬럼-인덱스">1. 단일 컬럼 인덱스</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 기본 인덱스 생성</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_name</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>

<span class="c1">-- 인덱스 이름 규칙: idx_테이블명_컬럼명</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_employees_email</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="2-복합-인덱스-composite-index">2. 복합 인덱스 (Composite Index)</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 여러 컬럼을 하나의 인덱스로</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_dept_salary</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">department</span><span class="p">,</span> <span class="n">salary</span><span class="p">);</span>

<span class="c1">-- 순서가 중요! (department → salary 순으로 정렬)</span>
</code></pre></div></div>

<p><strong>복합 인덱스 동작 원리:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>인덱스: (department, salary)

         [IT, 30000]
        /           \
   [IT, 35000]   [IT, 50000]
      /              \
 [IT, 35000, 김철수]  [IT, 50000, 이영희]
</code></pre></div></div>

<p><strong>복합 인덱스 사용 규칙 (Left-Most Rule):</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_abc</span> <span class="k">ON</span> <span class="k">table</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="k">c</span><span class="p">);</span>

<span class="c1">-- ✅ 인덱스 사용 O</span>
<span class="k">WHERE</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">WHERE</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">AND</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">WHERE</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">AND</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">AND</span> <span class="k">c</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1">-- ⚠️ 인덱스 일부만 사용</span>
<span class="k">WHERE</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">AND</span> <span class="k">c</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1">-- a만 인덱스 사용</span>

<span class="c1">-- ❌ 인덱스 사용 X (첫 컬럼 a가 없음)</span>
<span class="k">WHERE</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">WHERE</span> <span class="k">c</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">WHERE</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">AND</span> <span class="k">c</span> <span class="o">=</span> <span class="mi">3</span>
</code></pre></div></div>

<h3 id="3-유니크-인덱스">3. 유니크 인덱스</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 중복 값 허용 안 함</span>
<span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="n">idx_email</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>

<span class="c1">-- PRIMARY KEY는 자동으로 유니크 인덱스 생성</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">users</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">INT</span> <span class="k">PRIMARY</span> <span class="k">KEY</span>  <span class="c1">-- 자동으로 유니크 인덱스</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="4-전문-검색-인덱스-full-text-index">4. 전문 검색 인덱스 (Full-Text Index)</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 텍스트 검색용 (LIKE '%keyword%' 대체)</span>
<span class="k">CREATE</span> <span class="n">FULLTEXT</span> <span class="k">INDEX</span> <span class="n">idx_content</span> <span class="k">ON</span> <span class="n">articles</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>

<span class="c1">-- 사용</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">articles</span> 
<span class="k">WHERE</span> <span class="k">MATCH</span><span class="p">(</span><span class="n">content</span><span class="p">)</span> <span class="n">AGAINST</span><span class="p">(</span><span class="s1">'검색어'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="5-인덱스-삭제">5. 인덱스 삭제</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 인덱스 삭제</span>
<span class="k">DROP</span> <span class="k">INDEX</span> <span class="n">idx_name</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">;</span>

<span class="c1">-- MySQL</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">employees</span> <span class="k">DROP</span> <span class="k">INDEX</span> <span class="n">idx_name</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="-인덱스의-장점">✅ 인덱스의 장점</h2>

<h3 id="1-검색-속도-대폭-향상">1. 검색 속도 대폭 향상</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 100만 건 데이터에서 검색</span>
<span class="c1">-- 인덱스 없음: 0.5초 (Full Scan)</span>
<span class="c1">-- 인덱스 있음: 0.001초 (Index Scan)</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">12345</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>성능 비교:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>데이터 건수 | Full Scan | Index Scan
---------|-----------|------------
1,000    | 1ms       | 0.01ms
10,000   | 10ms      | 0.01ms
100,000  | 100ms     | 0.02ms
1,000,000| 1,000ms   | 0.03ms
</code></pre></div></div>

<h3 id="2-order-by-성능-향상">2. ORDER BY 성능 향상</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 인덱스가 이미 정렬되어 있어서 빠름</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_salary</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">salary</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">salary</span><span class="p">;</span>
<span class="c1">-- 별도 정렬 작업 불필요 (Using index)</span>
</code></pre></div></div>

<h3 id="3-group-by-성능-향상">3. GROUP BY 성능 향상</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_department</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">department</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">employees</span> 
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
<span class="c1">-- 인덱스를 활용한 빠른 그룹화</span>
</code></pre></div></div>

<h3 id="4-minmax-값-즉시-조회">4. MIN/MAX 값 즉시 조회</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_salary</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">salary</span><span class="p">);</span>

<span class="c1">-- 인덱스의 첫 번째/마지막 값만 읽으면 됨</span>
<span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>  <span class="c1">-- 0.001초</span>
<span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>  <span class="c1">-- 0.001초</span>
</code></pre></div></div>

<h3 id="5-join-성능-향상">5. JOIN 성능 향상</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 외래키에 인덱스 생성</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_dept_id</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">dept_id</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="n">e</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">d</span><span class="p">.</span><span class="n">dept_name</span>
<span class="k">FROM</span> <span class="n">employees</span> <span class="n">e</span>
<span class="k">JOIN</span> <span class="n">departments</span> <span class="n">d</span> <span class="k">ON</span> <span class="n">e</span><span class="p">.</span><span class="n">dept_id</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="n">dept_id</span><span class="p">;</span>
<span class="c1">-- JOIN 조건 컬럼에 인덱스 → 빠른 매칭</span>
</code></pre></div></div>

<hr />

<h2 id="️-인덱스의-단점">⚠️ 인덱스의 단점</h2>

<h3 id="1-추가-저장-공간-필요">1. 추가 저장 공간 필요</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>테이블 크기: 1GB
인덱스 크기: 약 100MB (테이블 크기의 10~15%)

인덱스 5개 → 500MB 추가 공간 필요
</code></pre></div></div>

<h3 id="2-insert-성능-저하">2. INSERT 성능 저하</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">employees</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="s1">'홍길동'</span><span class="p">,</span> <span class="mi">50000</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>작업 과정:</strong></p>
<ol>
  <li>테이블에 데이터 삽입</li>
  <li><strong>인덱스 1에 새 키 추가</strong> (B-Tree 재정렬)</li>
  <li><strong>인덱스 2에 새 키 추가</strong></li>
  <li><strong>인덱스 3에 새 키 추가</strong>
…</li>
</ol>

<p><strong>성능 비교:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>인덱스 0개: INSERT 1ms
인덱스 3개: INSERT 4ms (4배 느림)
인덱스 10개: INSERT 15ms (15배 느림)
</code></pre></div></div>

<h3 id="3-update-성능-저하">3. UPDATE 성능 저하</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 인덱스 컬럼 수정 시 느림</span>
<span class="k">UPDATE</span> <span class="n">employees</span> <span class="k">SET</span> <span class="n">salary</span> <span class="o">=</span> <span class="mi">60000</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>작업 과정:</strong></p>
<ol>
  <li>테이블 데이터 수정</li>
  <li><strong>salary 인덱스에서 기존 값 삭제</strong></li>
  <li><strong>salary 인덱스에 새 값 추가</strong> (B-Tree 재정렬)</li>
</ol>

<p><strong>인덱스가 없는 컬럼 수정은 빠름:</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- phone에 인덱스 없음 → 빠름</span>
<span class="k">UPDATE</span> <span class="n">employees</span> <span class="k">SET</span> <span class="n">phone</span> <span class="o">=</span> <span class="s1">'010-1234-5678'</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-delete-성능-저하">4. DELETE 성능 저하</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>작업 과정:</strong></p>
<ol>
  <li>테이블에서 데이터 삭제</li>
  <li><strong>모든 인덱스에서 해당 키 삭제</strong></li>
  <li><strong>B-Tree 재구성</strong></li>
</ol>

<h3 id="5-인덱스-유지보수-비용">5. 인덱스 유지보수 비용</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 데이터 변경이 많으면 인덱스 단편화 발생</span>
<span class="c1">-- 주기적으로 인덱스 재구성 필요</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">employees</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="p">;</span>  <span class="c1">-- 재구성</span>

<span class="c1">-- 또는</span>
<span class="n">OPTIMIZE</span> <span class="k">TABLE</span> <span class="n">employees</span><span class="p">;</span>  <span class="c1">-- 최적화</span>
</code></pre></div></div>

<hr />

<h2 id="-인덱스-사용이-효과적인-경우">🎯 인덱스 사용이 효과적인 경우</h2>

<h3 id="1-where-절에-자주-사용되는-컬럼">1. WHERE 절에 자주 사용되는 컬럼</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- email로 자주 검색</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">users</span> <span class="k">WHERE</span> <span class="n">email</span> <span class="o">=</span> <span class="s1">'hong@example.com'</span><span class="p">;</span>

<span class="c1">-- 인덱스 생성</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_email</span> <span class="k">ON</span> <span class="n">users</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="2-카디널리티가-높은-컬럼">2. 카디널리티가 높은 컬럼</h3>

<p><strong>카디널리티 (Cardinality)</strong>: 중복도가 낮은 정도</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 높은 카디널리티 (인덱스 효과적) ✅</span>
<span class="n">email</span>    <span class="err">→</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">명</span> <span class="err">중</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">개</span> <span class="err">고유값</span> <span class="p">(</span><span class="mi">100</span><span class="o">%</span><span class="p">)</span>
<span class="err">주민번호</span>  <span class="err">→</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">명</span> <span class="err">중</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">개</span> <span class="err">고유값</span> <span class="p">(</span><span class="mi">100</span><span class="o">%</span><span class="p">)</span>
<span class="err">전화번호</span>  <span class="err">→</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">명</span> <span class="err">중</span> <span class="mi">9</span><span class="p">,</span><span class="mi">800</span><span class="err">개</span> <span class="err">고유값</span> <span class="p">(</span><span class="mi">98</span><span class="o">%</span><span class="p">)</span>

<span class="c1">-- 낮은 카디널리티 (인덱스 비효율) ❌</span>
<span class="err">성별</span>     <span class="err">→</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">명</span> <span class="err">중</span> <span class="mi">2</span><span class="err">개</span> <span class="err">고유값</span> <span class="p">(</span><span class="err">남</span><span class="o">/</span><span class="err">여</span><span class="p">)</span>
<span class="err">결혼여부</span>  <span class="err">→</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">명</span> <span class="err">중</span> <span class="mi">2</span><span class="err">개</span> <span class="err">고유값</span> <span class="p">(</span><span class="n">Y</span><span class="o">/</span><span class="n">N</span><span class="p">)</span>
<span class="err">등급</span>     <span class="err">→</span> <span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="err">명</span> <span class="err">중</span> <span class="mi">5</span><span class="err">개</span> <span class="err">고유값</span> <span class="p">(</span><span class="n">VIP</span><span class="p">,</span> <span class="n">Gold</span><span class="p">,</span> <span class="n">Silver</span><span class="p">...)</span>
</code></pre></div></div>

<p><strong>카디널리티가 낮은 컬럼에 인덱스를 만들면?</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 성별 인덱스 생성 (비효율)</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_gender</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">gender</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">gender</span> <span class="o">=</span> <span class="s1">'M'</span><span class="p">;</span>
<span class="c1">-- 전체의 50%를 조회 → Full Scan이 더 빠를 수 있음</span>
</code></pre></div></div>

<h3 id="3-정렬order-by에-자주-사용되는-컬럼">3. 정렬(ORDER BY)에 자주 사용되는 컬럼</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 최신 게시글 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">posts</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">created_at</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>

<span class="c1">-- 인덱스 생성</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_created_at</span> <span class="k">ON</span> <span class="n">posts</span><span class="p">(</span><span class="n">created_at</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="4-join-조건에-사용되는-컬럼">4. JOIN 조건에 사용되는 컬럼</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 외래키에 인덱스 필수</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_dept_id</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">dept_id</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_user_id</span> <span class="k">ON</span> <span class="n">orders</span><span class="p">(</span><span class="n">user_id</span><span class="p">);</span>

<span class="c1">-- JOIN 성능 향상</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="n">e</span>
<span class="k">JOIN</span> <span class="n">departments</span> <span class="n">d</span> <span class="k">ON</span> <span class="n">e</span><span class="p">.</span><span class="n">dept_id</span> <span class="o">=</span> <span class="n">d</span><span class="p">.</span><span class="n">dept_id</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="5-데이터-변경이-적은-테이블">5. 데이터 변경이 적은 테이블</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 조회는 많고, 수정은 적은 경우</span>
<span class="c1">-- 예: 코드 테이블, 카테고리 테이블, 지역 테이블</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_code</span> <span class="k">ON</span> <span class="n">code_master</span><span class="p">(</span><span class="n">code</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="-인덱스-사용이-비효과적인-경우">🚫 인덱스 사용이 비효과적인 경우</h2>

<h3 id="1-작은-테이블">1. 작은 테이블</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 데이터 100건 미만 → 인덱스 불필요</span>
<span class="c1">-- Full Scan이 더 빠름</span>
</code></pre></div></div>

<h3 id="2-데이터-변경이-빈번한-컬럼">2. 데이터 변경이 빈번한 컬럼</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 실시간 업데이트되는 컬럼 (재고 수량, 조회수 등)</span>
<span class="k">UPDATE</span> <span class="n">products</span> <span class="k">SET</span> <span class="n">view_count</span> <span class="o">=</span> <span class="n">view_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">-- 인덱스 재구성 비용 &gt; 검색 성능 향상</span>
</code></pre></div></div>

<h3 id="3-where-절에-잘-사용되지-않는-컬럼">3. WHERE 절에 잘 사용되지 않는 컬럼</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 주소 컬럼은 검색 조건으로 거의 안 씀</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_address</span> <span class="k">ON</span> <span class="n">users</span><span class="p">(</span><span class="n">address</span><span class="p">);</span>  <span class="c1">-- 불필요</span>
</code></pre></div></div>

<h3 id="4-결과가-테이블의-대부분인-경우">4. 결과가 테이블의 대부분인 경우</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 전체의 80% 이상 조회 → Full Scan이 더 빠름</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="mi">30000</span><span class="p">;</span>
<span class="c1">-- 대부분의 직원이 3만원 이상 받으면 인덱스 무의미</span>
</code></pre></div></div>

<hr />

<h2 id="-인덱스를-사용하지-못하는-경우">❌ 인덱스를 사용하지 못하는 경우</h2>

<h3 id="1-인덱스-컬럼에-함수-사용">1. 인덱스 컬럼에 함수 사용</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 인덱스 사용 불가</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_hire_date</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">hire_date</span><span class="p">);</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="nb">YEAR</span><span class="p">(</span><span class="n">hire_date</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2023</span><span class="p">;</span>
<span class="c1">-- hire_date에 함수 적용 → 인덱스 무용지물</span>

<span class="c1">-- ✅ 인덱스 사용 O</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> 
<span class="k">WHERE</span> <span class="n">hire_date</span> <span class="k">BETWEEN</span> <span class="s1">'2023-01-01'</span> <span class="k">AND</span> <span class="s1">'2023-12-31'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-인덱스-컬럼에-연산">2. 인덱스 컬럼에 연산</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 인덱스 사용 불가</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">salary</span> <span class="o">*</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">50000</span><span class="p">;</span>

<span class="c1">-- ✅ 인덱스 사용 O</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="mi">50000</span> <span class="o">/</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-like의-중간끝-매칭">3. LIKE의 중간/끝 매칭</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_name</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>

<span class="c1">-- ✅ 인덱스 사용 O</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">'김%'</span><span class="p">;</span>

<span class="c1">-- ❌ 인덱스 사용 불가</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">'%길동'</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">'%길%'</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>이유:</strong> 인덱스는 왼쪽부터 정렬되어 있음</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>인덱스 내부:
강민수
김철수
김태희
박영희
이순신

'김%' → 김철수부터 시작해서 연속 검색 가능 ✅
'%동' → 어디서 시작할지 모름, 전체 스캔 필요 ❌
</code></pre></div></div>

<h3 id="4-not---사용">4. NOT, !=, &lt;&gt; 사용</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 인덱스 사용 불가 (대부분의 DBMS)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">department</span> <span class="o">!=</span> <span class="s1">'IT'</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="k">NOT</span> <span class="n">department</span> <span class="o">=</span> <span class="s1">'IT'</span><span class="p">;</span>

<span class="c1">-- ✅ 인덱스 사용 O</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">department</span> <span class="o">=</span> <span class="s1">'IT'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="5-or-조건-일부-경우">5. OR 조건 (일부 경우)</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 인덱스 효율 떨어짐</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> 
<span class="k">WHERE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'홍길동'</span> <span class="k">OR</span> <span class="n">email</span> <span class="o">=</span> <span class="s1">'hong@example.com'</span><span class="p">;</span>

<span class="c1">-- ✅ UNION으로 대체 (각각 인덱스 사용)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'홍길동'</span>
<span class="k">UNION</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">email</span> <span class="o">=</span> <span class="s1">'hong@example.com'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="6-데이터-타입-불일치">6. 데이터 타입 불일치</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 인덱스 사용 불가</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_phone</span> <span class="k">ON</span> <span class="n">users</span><span class="p">(</span><span class="n">phone</span><span class="p">);</span>  <span class="c1">-- VARCHAR 타입</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">users</span> <span class="k">WHERE</span> <span class="n">phone</span> <span class="o">=</span> <span class="mi">01012345678</span><span class="p">;</span>
<span class="c1">-- 숫자를 문자와 비교 → 암시적 형변환 → 인덱스 무용지물</span>

<span class="c1">-- ✅ 인덱스 사용 O</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">users</span> <span class="k">WHERE</span> <span class="n">phone</span> <span class="o">=</span> <span class="s1">'01012345678'</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="-인덱스-확인-방법">🔍 인덱스 확인 방법</h2>

<h3 id="1-테이블의-인덱스-확인">1. 테이블의 인덱스 확인</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- MySQL</span>
<span class="k">SHOW</span> <span class="k">INDEX</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>

<span class="c1">-- 결과</span>
<span class="k">Table</span>      <span class="o">|</span> <span class="n">Key_name</span>        <span class="o">|</span> <span class="k">Column_name</span> <span class="o">|</span> <span class="n">Index_type</span>
<span class="c1">-----------|-----------------|-------------|------------</span>
<span class="n">employees</span>  <span class="o">|</span> <span class="k">PRIMARY</span>         <span class="o">|</span> <span class="n">id</span>          <span class="o">|</span> <span class="n">BTREE</span>
<span class="n">employees</span>  <span class="o">|</span> <span class="n">idx_department</span>  <span class="o">|</span> <span class="n">department</span>  <span class="o">|</span> <span class="n">BTREE</span>
<span class="n">employees</span>  <span class="o">|</span> <span class="n">idx_email</span>       <span class="o">|</span> <span class="n">email</span>       <span class="o">|</span> <span class="n">BTREE</span>
</code></pre></div></div>

<h3 id="2-실행-계획-확인-explain">2. 실행 계획 확인 (EXPLAIN)</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">EXPLAIN</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">department</span> <span class="o">=</span> <span class="s1">'IT'</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>주요 컬럼 해석:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>id | select_type | table     | type  | key           | rows | Extra
---|-------------|-----------|-------|---------------|------|-------
1  | SIMPLE      | employees | ref   | idx_department| 25   | NULL
</code></pre></div></div>

<p><strong>type 컬럼 (성능 순서):</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">system</code> &gt; <code class="language-plaintext highlighter-rouge">const</code> &gt; <code class="language-plaintext highlighter-rouge">eq_ref</code> &gt; <code class="language-plaintext highlighter-rouge">ref</code> &gt; <code class="language-plaintext highlighter-rouge">range</code> &gt; <code class="language-plaintext highlighter-rouge">index</code> &gt; <code class="language-plaintext highlighter-rouge">ALL</code></li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>✅ 좋은 성능:
- const: PRIMARY KEY나 UNIQUE로 1건 조회
- eq_ref: JOIN에서 PRIMARY/UNIQUE로 매칭
- ref: 일반 인덱스 사용

⚠️ 주의 필요:
- range: 범위 검색 (BETWEEN, &gt;, &lt;)
- index: 인덱스 전체 스캔

❌ 나쁜 성능:
- ALL: 테이블 전체 스캔 (Full Scan)
</code></pre></div></div>

<p><strong>key 컬럼:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>key = idx_department  → 인덱스 사용 ✅
key = NULL           → 인덱스 미사용 ❌
</code></pre></div></div>

<p><strong>rows 컬럼:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rows = 1        → 매우 효율적 ✅
rows = 100      → 적당함
rows = 10,000   → 비효율적 ❌
</code></pre></div></div>

<p><strong>Extra 컬럼:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Using index        → 커버링 인덱스 (최고 성능) ✅
Using where        → WHERE 조건 필터링
Using filesort     → 정렬 필요 (느림) ⚠️
Using temporary    → 임시 테이블 사용 (느림) ⚠️
</code></pre></div></div>

<hr />

<h2 id="-인덱스-최적화-팁">💡 인덱스 최적화 팁</h2>

<h3 id="1-커버링-인덱스-covering-index">1. 커버링 인덱스 (Covering Index)</h3>

<p>쿼리에 필요한 모든 컬럼이 인덱스에 포함된 경우</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 복합 인덱스 생성</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_dept_salary</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">department</span><span class="p">,</span> <span class="n">salary</span><span class="p">);</span>

<span class="c1">-- 커버링 인덱스 활용</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="n">salary</span> 
<span class="k">FROM</span> <span class="n">employees</span> 
<span class="k">WHERE</span> <span class="n">department</span> <span class="o">=</span> <span class="s1">'IT'</span><span class="p">;</span>
<span class="c1">-- 테이블 접근 없이 인덱스만으로 조회 (최고 성능!)</span>

<span class="c1">-- EXPLAIN 결과: Extra = "Using index"</span>
</code></pre></div></div>

<h3 id="2-선택도-높은-컬럼을-앞에">2. 선택도 높은 컬럼을 앞에</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 비효율</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_gender_email</span> <span class="k">ON</span> <span class="n">users</span><span class="p">(</span><span class="n">gender</span><span class="p">,</span> <span class="n">email</span><span class="p">);</span>
<span class="c1">-- gender는 선택도 낮음 (M/F 2개)</span>

<span class="c1">-- ✅ 효율적</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_email_gender</span> <span class="k">ON</span> <span class="n">users</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">gender</span><span class="p">);</span>
<span class="c1">-- email은 선택도 높음 (거의 유니크)</span>
</code></pre></div></div>

<h3 id="3-인덱스-개수-제한">3. 인덱스 개수 제한</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 과도한 인덱스</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx1</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx2</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx3</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">phone</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx4</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">department</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx5</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">salary</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx6</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">(</span><span class="n">hire_date</span><span class="p">);</span>
<span class="c1">-- INSERT/UPDATE 성능 급격히 저하</span>

<span class="c1">-- ✅ 필요한 것만 생성 (3~5개 권장)</span>
</code></pre></div></div>

<h3 id="4-불필요한-인덱스-삭제">4. 불필요한 인덱스 삭제</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 사용하지 않는 인덱스 찾기 (MySQL)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">sys</span><span class="p">.</span><span class="n">schema_unused_indexes</span><span class="p">;</span>

<span class="c1">-- 삭제</span>
<span class="k">DROP</span> <span class="k">INDEX</span> <span class="n">idx_unused</span> <span class="k">ON</span> <span class="n">employees</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="-실전-예제">📊 실전 예제</h2>

<h3 id="예제-1-복합-인덱스-활용">예제 1: 복합 인덱스 활용</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 자주 실행되는 쿼리</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">orders</span> 
<span class="k">WHERE</span> <span class="n">customer_id</span> <span class="o">=</span> <span class="mi">100</span> 
<span class="k">AND</span> <span class="n">order_date</span> <span class="o">&gt;=</span> <span class="s1">'2024-01-01'</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">order_date</span> <span class="k">DESC</span><span class="p">;</span>

<span class="c1">-- 최적 인덱스</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_customer_date</span> 
<span class="k">ON</span> <span class="n">orders</span><span class="p">(</span><span class="n">customer_id</span><span class="p">,</span> <span class="n">order_date</span><span class="p">);</span>
<span class="c1">-- customer_id로 필터 → order_date로 정렬 (정렬 불필요)</span>
</code></pre></div></div>

<h3 id="예제-2-페이징-최적화">예제 2: 페이징 최적화</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 느린 페이징</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">posts</span> 
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">created_at</span> <span class="k">DESC</span> 
<span class="k">LIMIT</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">-- 10,000개 건너뛰고 10개 조회</span>

<span class="c1">-- 빠른 페이징 (커버링 인덱스)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">posts</span> <span class="n">p</span>
<span class="k">JOIN</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">id</span> <span class="k">FROM</span> <span class="n">posts</span> 
    <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">created_at</span> <span class="k">DESC</span> 
    <span class="k">LIMIT</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">10</span>
<span class="p">)</span> <span class="n">t</span> <span class="k">ON</span> <span class="n">p</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="예제-3-다중-조건-최적화">예제 3: 다중 조건 최적화</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 자주 실행되는 쿼리</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">products</span> 
<span class="k">WHERE</span> <span class="n">category</span> <span class="o">=</span> <span class="s1">'Electronics'</span> 
<span class="k">AND</span> <span class="n">price</span> <span class="k">BETWEEN</span> <span class="mi">100000</span> <span class="k">AND</span> <span class="mi">500000</span>
<span class="k">AND</span> <span class="n">stock</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">-- 최적 인덱스</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">idx_category_price_stock</span> 
<span class="k">ON</span> <span class="n">products</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">stock</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="-핵심-정리">🎓 핵심 정리</h2>

<h3 id="인덱스-생성-체크리스트">인덱스 생성 체크리스트</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>✅ WHERE 절에 자주 사용되는가?
✅ JOIN 조건에 사용되는가?
✅ ORDER BY/GROUP BY에 사용되는가?
✅ 카디널리티가 높은가? (중복 값 적은가?)
✅ 데이터 변경이 적은가?
❌ 테이블이 너무 작은가? (100건 미만)
❌ 이미 비슷한 인덱스가 있는가?
</code></pre></div></div>

<h3 id="성능-비교-요약">성능 비교 요약</h3>

<table>
  <thead>
    <tr>
      <th>작업</th>
      <th>인덱스 없음</th>
      <th>인덱스 있음</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SELECT (검색)</td>
      <td>느림 O(N)</td>
      <td><strong>빠름 O(log N)</strong> ✅</td>
    </tr>
    <tr>
      <td>INSERT</td>
      <td>빠름</td>
      <td>느림 ❌</td>
    </tr>
    <tr>
      <td>UPDATE (인덱스 컬럼)</td>
      <td>빠름</td>
      <td>느림 ❌</td>
    </tr>
    <tr>
      <td>DELETE</td>
      <td>빠름</td>
      <td>느림 ❌</td>
    </tr>
    <tr>
      <td>ORDER BY</td>
      <td>느림 (정렬 필요)</td>
      <td><strong>빠름 (정렬 불필요)</strong> ✅</td>
    </tr>
  </tbody>
</table>

<hr />

<p><strong>핵심:</strong> 인덱스는 검색 성능 향상을 위한 도구이지만, 무분별하게 생성하면 오히려 성능 저하를 초래한다. <strong>자주 조회하고, 카디널리티가 높으며, 변경이 적은 컬럼</strong>에만 선택적으로 생성하기</p>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 yunYoung e. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
