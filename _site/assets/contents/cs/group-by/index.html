<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>GROUP BY &amp; ì§‘ê³„í•¨ìˆ˜ - Second Brain</title>
<meta name="description" content="2026ë…„ ëª©í‘œ: ê°œë°œë¡œ ì›”ê¸‰ë°›ê¸°ì¶”ê°€ ì •ë³´ ì—†ìŒ">


  <meta name="author" content="yunYoung e">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Second Brain">
<meta property="og:title" content="GROUP BY &amp; ì§‘ê³„í•¨ìˆ˜">
<meta property="og:url" content="http://localhost:4000/assets/contents/cs/group-by/">


  <meta property="og:description" content="2026ë…„ ëª©í‘œ: ê°œë°œë¡œ ì›”ê¸‰ë°›ê¸°ì¶”ê°€ ì •ë³´ ì—†ìŒ">












<link rel="canonical" href="http://localhost:4000/assets/contents/cs/group-by/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "yunYoung e",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Second Brain Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


  
    <script src="/assets/js/custom.js"></script>
  


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Second Brain
          <span class="site-subtitle">ë‡Œì •ë¦¬ë…¸íŠ¸</span>
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <h1 id="group-by--ì§‘ê³„í•¨ìˆ˜">GROUP BY &amp; ì§‘ê³„í•¨ìˆ˜</h1>

<h2 id="-ì§‘ê³„í•¨ìˆ˜-aggregate-functions">ğŸ“Œ ì§‘ê³„í•¨ìˆ˜ (Aggregate Functions)</h2>

<h3 id="1-count---ê°œìˆ˜-ì„¸ê¸°">1. COUNT() - ê°œìˆ˜ ì„¸ê¸°</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ì „ì²´ í–‰ ê°œìˆ˜</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 100</span>

<span class="c1">-- íŠ¹ì • ì»¬ëŸ¼ì˜ NULLì´ ì•„ë‹Œ ê°’ ê°œìˆ˜</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">commission</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 35 (commissionì´ NULLì¸ ì§ì› ì œì™¸)</span>

<span class="c1">-- ì¤‘ë³µ ì œê±°í•œ ê°œìˆ˜</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">department</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 5 (ì¤‘ë³µëœ ë¶€ì„œëª… ì œì™¸)</span>

<span class="c1">-- ì¡°ê±´ë¶€ ì¹´ìš´íŠ¸</span>
<span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">salary</span> <span class="o">&gt;=</span> <span class="mi">50000</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 42</span>
</code></pre></div></div>

<p><strong>COUNT(*) vs COUNT(column) ì°¨ì´ì :</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">COUNT(*)</code>: ëª¨ë“  í–‰ì„ ì„¼ë‹¤ (NULL í¬í•¨)</li>
  <li><code class="language-plaintext highlighter-rouge">COUNT(column)</code>: NULL ê°’ì„ ì œì™¸í•˜ê³  ì„¼ë‹¤</li>
  <li><code class="language-plaintext highlighter-rouge">COUNT(DISTINCT column)</code>: ì¤‘ë³µê³¼ NULLì„ ì œì™¸í•˜ê³  ì„¼ë‹¤</li>
</ul>

<hr />

<h3 id="2-sum---í•©ê³„">2. SUM() - í•©ê³„</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ì „ì²´ ê¸‰ì—¬ í•©ê³„</span>
<span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 4850000</span>

<span class="c1">-- íŠ¹ì • ë¶€ì„œì˜ ê¸‰ì—¬ í•©ê³„</span>
<span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">department</span> <span class="o">=</span> <span class="s1">'IT'</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 1250000</span>

<span class="c1">-- NULL ê°’ì€ ìë™ìœ¼ë¡œ ë¬´ì‹œë¨</span>
<span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">commission</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- commissionì´ NULLì¸ í–‰ì€ ê³„ì‚°ì—ì„œ ì œì™¸</span>

<span class="c1">-- ì¡°ê±´ë¶€ í•©ê³„ (CASE í™œìš©)</span>
<span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">gender</span> <span class="o">=</span> <span class="s1">'M'</span> <span class="k">THEN</span> <span class="n">salary</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span> <span class="k">AS</span> <span class="n">male_salary_sum</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>ì£¼ì˜ì‚¬í•­:</strong></p>

<ul>
  <li>SUM()ì€ ìˆ«ìí˜• ë°ì´í„°ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥</li>
  <li>NULL ê°’ì€ ìë™ìœ¼ë¡œ ë¬´ì‹œë¨ (0ìœ¼ë¡œ ì·¨ê¸‰í•˜ì§€ ì•ŠìŒ)</li>
  <li>ëª¨ë“  ê°’ì´ NULLì´ë©´ ê²°ê³¼ë„ NULL</li>
</ul>

<hr />

<h3 id="3-avg---í‰ê· ">3. AVG() - í‰ê· </h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ì „ì²´ í‰ê·  ê¸‰ì—¬</span>
<span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 48500.00</span>

<span class="c1">-- ì†Œìˆ˜ì  ìë¦¬ìˆ˜ ì¡°ì ˆ</span>
<span class="k">SELECT</span> <span class="n">ROUND</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 48500.00</span>

<span class="c1">-- NULL ì œì™¸í•˜ê³  í‰ê·  ê³„ì‚°</span>
<span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">commission</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- commissionì´ NULLì¸ ì§ì›ì€ í‰ê·  ê³„ì‚°ì—ì„œ ì œì™¸</span>

<span class="c1">-- í‰ê· ë³´ë‹¤ ë†’ì€ ê¸‰ì—¬ë¥¼ ë°›ëŠ” ì§ì›</span>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span> 
<span class="k">FROM</span> <span class="n">employees</span> 
<span class="k">WHERE</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>AVG() ê³„ì‚° ë°©ì‹:</strong></p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ì˜ˆì‹œ ë°ì´í„°</span>
<span class="c1">-- salary: 50000, 60000, NULL, 40000</span>

<span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">50000</span> <span class="o">+</span> <span class="mi">60000</span> <span class="o">+</span> <span class="mi">40000</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">=</span> <span class="mi">50000</span>
<span class="c1">-- NULLì€ ê°œìˆ˜ì—ì„œë„ ì œì™¸ë¨ (4ê°€ ì•„ë‹Œ 3ìœ¼ë¡œ ë‚˜ëˆ”)</span>
</code></pre></div></div>

<hr />

<h3 id="4-max--min---ìµœëŒ€ê°’--ìµœì†Œê°’">4. MAX() / MIN() - ìµœëŒ€ê°’ / ìµœì†Œê°’</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ìµœê³  ê¸‰ì—¬</span>
<span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 95000</span>

<span class="c1">-- ìµœì € ê¸‰ì—¬</span>
<span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 28000</span>

<span class="c1">-- ìµœê³  ê¸‰ì—¬ë¥¼ ë°›ëŠ” ì§ì› ì •ë³´ (ì„œë¸Œì¿¼ë¦¬ í™œìš©)</span>
<span class="k">SELECT</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span> 
<span class="k">FROM</span> <span class="n">employees</span> 
<span class="k">WHERE</span> <span class="n">salary</span> <span class="o">=</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">);</span>

<span class="c1">-- ë¶€ì„œë³„ ìµœê³ /ìµœì € ê¸‰ì—¬ ì°¨ì´</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">-</span> <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">salary_gap</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>

<span class="c1">-- ë‚ ì§œí˜•ì—ë„ ì‚¬ìš© ê°€ëŠ¥</span>
<span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">hire_date</span><span class="p">)</span> <span class="k">AS</span> <span class="n">latest_hire</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 2024-12-15 (ê°€ì¥ ìµœê·¼ ì…ì‚¬ì¼)</span>

<span class="c1">-- ë¬¸ìì—´ì—ë„ ì‚¬ìš© ê°€ëŠ¥ (ì‚¬ì „ìˆœ)</span>
<span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 'A'ë¡œ ì‹œì‘í•˜ëŠ” ì´ë¦„ ì¤‘ ê°€ì¥ ì•ì„  ì´ë¦„</span>
</code></pre></div></div>

<hr />

<h3 id="5-ì—¬ëŸ¬-ì§‘ê³„í•¨ìˆ˜-ë™ì‹œ-ì‚¬ìš©">5. ì—¬ëŸ¬ ì§‘ê³„í•¨ìˆ˜ ë™ì‹œ ì‚¬ìš©</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> 
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì´ì§ì›ìˆ˜</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span> <span class="n">department</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ë¶€ì„œìˆ˜</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ê¸‰ì—¬ì´ì•¡</span><span class="p">,</span>
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">í‰ê· ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ìµœê³ ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ìµœì €ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">-</span> <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ê¸‰ì—¬ì°¨ì´</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
</code></pre></div></div>

<p>ê²°ê³¼:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì´ì§ì›ìˆ˜ | ë¶€ì„œìˆ˜ | ê¸‰ì—¬ì´ì•¡  | í‰ê· ê¸‰ì—¬ | ìµœê³ ê¸‰ì—¬ | ìµœì €ê¸‰ì—¬ | ê¸‰ì—¬ì°¨ì´
--------|-------|----------|---------|---------|---------|--------
  100   |   5   | 4850000  |  48500  |  95000  |  28000  |  67000
</code></pre></div></div>

<hr />

<h2 id="-group-by---ê·¸ë£¹í™”">ğŸ“Š GROUP BY - ê·¸ë£¹í™”</h2>

<h3 id="1-ê¸°ë³¸-group-by">1. ê¸°ë³¸ GROUP BY</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ë¶€ì„œë³„ ì§ì› ìˆ˜</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">employee_count</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
</code></pre></div></div>

<p>ê²°ê³¼:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>department | employee_count
-----------|---------------
IT         | 25
HR         | 15
Sales      | 30
Marketing  | 20
Finance    | 10
</code></pre></div></div>

<p><strong>ë™ì‘ ì›ë¦¬:</strong></p>

<ol>
  <li>department ê°’ì´ ê°™ì€ í–‰ë“¤ì„ í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ìŒ</li>
  <li>ê° ê·¸ë£¹ì— ëŒ€í•´ COUNT(*) ê³„ì‚°</li>
  <li>ê·¸ë£¹ë‹¹ í•˜ë‚˜ì˜ ê²°ê³¼ í–‰ ë°˜í™˜</li>
</ol>

<hr />

<h3 id="2-ë‹¤ì¤‘-ì»¬ëŸ¼-group-by">2. ë‹¤ì¤‘ ì»¬ëŸ¼ GROUP BY</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ë¶€ì„œë³„, ì§ê¸‰ë³„ ê·¸ë£¹í™”</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span> 
    <span class="k">position</span><span class="p">,</span> 
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cnt</span><span class="p">,</span>
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">avg_sal</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">,</span> <span class="k">position</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">department</span><span class="p">,</span> <span class="k">position</span><span class="p">;</span>
</code></pre></div></div>

<p>ê²°ê³¼:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>department | position | cnt | avg_sal
-----------|----------|-----|--------
IT         | Junior   | 10  | 35000
IT         | Senior   | 15  | 65000
HR         | Junior   | 8   | 32000
HR         | Senior   | 7   | 55000
Sales      | Junior   | 18  | 30000
Sales      | Senior   | 12  | 50000
</code></pre></div></div>

<p><strong>ê·¸ë£¹í™” ìˆœì„œ:</strong></p>

<ul>
  <li>ë¨¼ì € departmentë¡œ ê·¸ë£¹í™”</li>
  <li>ê°™ì€ department ë‚´ì—ì„œ ë‹¤ì‹œ positionìœ¼ë¡œ ê·¸ë£¹í™”</li>
</ul>

<hr />

<h3 id="3-group-by-ì‚¬ìš©-ì‹œ-ì£¼ì˜ì‚¬í•­">3. GROUP BY ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- âŒ ì˜ëª»ëœ ì¿¼ë¦¬ (ì—ëŸ¬ ë°œìƒ)</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>ì—ëŸ¬ ì´ìœ :</strong></p>

<ul>
  <li>GROUP BYì— ì—†ëŠ” ì»¬ëŸ¼(name)ì„ SELECTì— ì‚¬ìš©</li>
  <li>í•œ ë¶€ì„œì— ì—¬ëŸ¬ ì§ì›ì´ ìˆëŠ”ë°, ì–´ë–¤ nameì„ ì¶œë ¥í•´ì•¼ í• ì§€ ëª¨í˜¸í•¨</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- âœ… ì˜¬ë°”ë¥¸ ì¿¼ë¦¬ 1: ì§‘ê³„í•¨ìˆ˜ ì‚¬ìš©</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cnt</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>

<span class="c1">-- âœ… ì˜¬ë°”ë¥¸ ì¿¼ë¦¬ 2: GROUP BYì— í¬í•¨</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="p">;</span>

<span class="c1">-- âœ… ì˜¬ë°”ë¥¸ ì¿¼ë¦¬ 3: ì„œë¸Œì¿¼ë¦¬ë¡œ ìµœê³  ê¸‰ì—¬ìë§Œ ì„ íƒ</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">salary</span>
<span class="k">FROM</span> <span class="n">employees</span> <span class="n">e1</span>
<span class="k">WHERE</span> <span class="n">salary</span> <span class="o">=</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> 
    <span class="k">FROM</span> <span class="n">employees</span> <span class="n">e2</span> 
    <span class="k">WHERE</span> <span class="n">e2</span><span class="p">.</span><span class="n">department</span> <span class="o">=</span> <span class="n">e1</span><span class="p">.</span><span class="n">department</span>
<span class="p">);</span>
</code></pre></div></div>

<hr />

<h3 id="4-group-byì™€-where-í•¨ê»˜-ì‚¬ìš©">4. GROUP BYì™€ WHERE í•¨ê»˜ ì‚¬ìš©</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ê¸‰ì—¬ê°€ 40000 ì´ìƒì¸ ì§ì›ë“¤ë§Œ ë¶€ì„œë³„ë¡œ ê·¸ë£¹í™”</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span> 
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">high_earners</span><span class="p">,</span>
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">avg_salary</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">salary</span> <span class="o">&gt;=</span> <span class="mi">40000</span>  <span class="c1">-- ê·¸ë£¹í™” ì „ í•„í„°ë§</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>ì‹¤í–‰ ìˆœì„œ:</strong></p>

<ol>
  <li>WHERE ì¡°ê±´ìœ¼ë¡œ í–‰ í•„í„°ë§ (salary &gt;= 40000)</li>
  <li>í•„í„°ë§ëœ ê²°ê³¼ë¥¼ departmentë¡œ ê·¸ë£¹í™”</li>
  <li>ê° ê·¸ë£¹ì— ëŒ€í•´ ì§‘ê³„ ê³„ì‚°</li>
</ol>

<hr />

<h2 id="-having---ê·¸ë£¹-í•„í„°ë§">ğŸ” HAVING - ê·¸ë£¹ í•„í„°ë§</h2>

<h3 id="1-having-ê¸°ë³¸-ì‚¬ìš©ë²•">1. HAVING ê¸°ë³¸ ì‚¬ìš©ë²•</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- í‰ê·  ê¸‰ì—¬ê°€ 50000 ì´ìƒì¸ ë¶€ì„œë§Œ ì¡°íšŒ</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span> 
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">avg_salary</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">emp_count</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">50000</span><span class="p">;</span>
</code></pre></div></div>

<p>ê²°ê³¼:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>department | avg_salary | emp_count
-----------|------------|----------
IT         | 55000      | 25
Finance    | 62000      | 10
</code></pre></div></div>

<hr />

<h3 id="2-where-vs-having-ë¹„êµ">2. WHERE vs HAVING ë¹„êµ</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- WHERE: ê·¸ë£¹í™” ì „ í–‰ í•„í„°ë§</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cnt</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">salary</span> <span class="o">&gt;=</span> <span class="mi">50000</span>  <span class="c1">-- ê°œë³„ í–‰ ì¡°ê±´</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>

<span class="c1">-- HAVING: ê·¸ë£¹í™” í›„ ê·¸ë£¹ í•„í„°ë§</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cnt</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">;</span>  <span class="c1">-- ê·¸ë£¹ ì¡°ê±´</span>
</code></pre></div></div>

<p><strong>ì°¨ì´ì  ì •ë¦¬:</strong></p>

<table>
  <thead>
    <tr>
      <th>êµ¬ë¶„</th>
      <th>WHERE</th>
      <th>HAVING</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ì ìš© ì‹œì </td>
      <td>ê·¸ë£¹í™” ì „</td>
      <td>ê·¸ë£¹í™” í›„</td>
    </tr>
    <tr>
      <td>ëŒ€ìƒ</td>
      <td>ê°œë³„ í–‰</td>
      <td>ê·¸ë£¹</td>
    </tr>
    <tr>
      <td>ì§‘ê³„í•¨ìˆ˜</td>
      <td>ì‚¬ìš© ë¶ˆê°€</td>
      <td>ì‚¬ìš© ê°€ëŠ¥</td>
    </tr>
    <tr>
      <td>ì‹¤í–‰ ìˆœì„œ</td>
      <td>2ë²ˆì§¸</td>
      <td>4ë²ˆì§¸</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="3-whereì™€-having-í•¨ê»˜-ì‚¬ìš©">3. WHEREì™€ HAVING í•¨ê»˜ ì‚¬ìš©</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 2020ë…„ ì´í›„ ì…ì‚¬ì ì¤‘, ë¶€ì„œë³„ í‰ê·  ê¸‰ì—¬ê°€ 45000 ì´ìƒì¸ ë¶€ì„œ</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span> 
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">emp_count</span><span class="p">,</span>
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">avg_salary</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">hire_date</span> <span class="o">&gt;=</span> <span class="s1">'2020-01-01'</span>  <span class="c1">-- ê°œë³„ í–‰ í•„í„°ë§ (ê·¸ë£¹í™” ì „)</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">45000</span><span class="p">;</span>     <span class="c1">-- ê·¸ë£¹ í•„í„°ë§ (ê·¸ë£¹í™” í›„)</span>
</code></pre></div></div>

<p><strong>ì‹¤í–‰ ìˆœì„œ:</strong></p>

<ol>
  <li>FROM employees</li>
  <li>WHERE hire_date &gt;= â€˜2020-01-01â€™ (í–‰ í•„í„°ë§)</li>
  <li>GROUP BY department (ê·¸ë£¹í™”)</li>
  <li>HAVING AVG(salary) &gt;= 45000 (ê·¸ë£¹ í•„í„°ë§)</li>
  <li>SELECT (ê²°ê³¼ ì¶œë ¥)</li>
</ol>

<hr />

<h3 id="4-havingì—ì„œ-ë‹¤ì–‘í•œ-ì¡°ê±´-ì‚¬ìš©">4. HAVINGì—ì„œ ë‹¤ì–‘í•œ ì¡°ê±´ ì‚¬ìš©</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ì§ì›ì´ 5ëª… ì´ìƒì´ê³ , ìµœê³  ê¸‰ì—¬ê°€ 80000 ì´ìƒì¸ ë¶€ì„œ</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">emp_count</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">max_salary</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="k">AND</span> <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">80000</span><span class="p">;</span>

<span class="c1">-- ê¸‰ì—¬ í‘œì¤€í¸ì°¨ê°€ í° ë¶€ì„œ (ê¸‰ì—¬ í¸ì°¨ê°€ ì‹¬í•œ ë¶€ì„œ)</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span>
    <span class="n">STDDEV</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">salary_stddev</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="n">STDDEV</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">15000</span><span class="p">;</span>

<span class="c1">-- ê¸‰ì—¬ í•©ê³„ê°€ ìƒìœ„ 3ê°œ ë¶€ì„œ</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">total_salary</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">3</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="-ì‹¤ì „-ì˜ˆì œ">ğŸ¯ ì‹¤ì „ ì˜ˆì œ</h2>

<h3 id="ì˜ˆì œ-1-ë¶€ì„œë³„-ê¸‰ì—¬-ë¶„ì„">ì˜ˆì œ 1: ë¶€ì„œë³„ ê¸‰ì—¬ ë¶„ì„</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> 
    <span class="n">department</span> <span class="k">AS</span> <span class="err">ë¶€ì„œ</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì§ì›ìˆ˜</span><span class="p">,</span>
    <span class="n">ROUND</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="k">AS</span> <span class="err">í‰ê· ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ìµœê³ ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ìµœì €ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">-</span> <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ê¸‰ì—¬í¸ì°¨</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ê¸‰ì—¬ì´ì•¡</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">5</span>  <span class="c1">-- 5ëª… ì´ìƒì¸ ë¶€ì„œë§Œ</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="err">í‰ê· ê¸‰ì—¬</span> <span class="k">DESC</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h3 id="ì˜ˆì œ-2-ì…ì‚¬ë…„ë„ë³„-ë¶€ì„œë³„-í†µê³„">ì˜ˆì œ 2: ì…ì‚¬ë…„ë„ë³„, ë¶€ì„œë³„ í†µê³„</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> 
    <span class="nb">YEAR</span><span class="p">(</span><span class="n">hire_date</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì…ì‚¬ë…„ë„</span><span class="p">,</span>
    <span class="n">department</span> <span class="k">AS</span> <span class="err">ë¶€ì„œ</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì…ì‚¬ììˆ˜</span><span class="p">,</span>
    <span class="n">ROUND</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="k">AS</span> <span class="err">í‰ê· ì´ˆë´‰</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">hire_date</span> <span class="o">&gt;=</span> <span class="s1">'2020-01-01'</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="nb">YEAR</span><span class="p">(</span><span class="n">hire_date</span><span class="p">),</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="err">ì…ì‚¬ë…„ë„</span> <span class="k">DESC</span><span class="p">,</span> <span class="err">ë¶€ì„œ</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h3 id="ì˜ˆì œ-3-ì„±ë³„-ì§ê¸‰ë³„-ê¸‰ì—¬-ë¶„ì„">ì˜ˆì œ 3: ì„±ë³„, ì§ê¸‰ë³„ ê¸‰ì—¬ ë¶„ì„</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> 
    <span class="n">gender</span> <span class="k">AS</span> <span class="err">ì„±ë³„</span><span class="p">,</span>
    <span class="k">position</span> <span class="k">AS</span> <span class="err">ì§ê¸‰</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì¸ì›</span><span class="p">,</span>
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">í‰ê· ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MIN</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ìµœì €ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ìµœê³ ê¸‰ì—¬</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">gender</span><span class="p">,</span> <span class="k">position</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">gender</span><span class="p">,</span> <span class="k">position</span><span class="p">;</span>
</code></pre></div></div>

<p>ê²°ê³¼:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ì„±ë³„ | ì§ê¸‰   | ì¸ì› | í‰ê· ê¸‰ì—¬ | ìµœì €ê¸‰ì—¬ | ìµœê³ ê¸‰ì—¬
----|--------|------|---------|---------|--------
F   | Junior | 25   | 32000   | 28000   | 38000
F   | Senior | 20   | 58000   | 45000   | 75000
M   | Junior | 30   | 33000   | 28000   | 40000
M   | Senior | 25   | 62000   | 48000   | 95000
</code></pre></div></div>

<hr />

<h3 id="ì˜ˆì œ-4-ì¡°ê±´ë¶€-ì§‘ê³„-case-í™œìš©">ì˜ˆì œ 4: ì¡°ê±´ë¶€ ì§‘ê³„ (CASE í™œìš©)</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ê¸‰ì—¬ êµ¬ê°„ë³„ ì§ì› ìˆ˜</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì´ì¸ì›</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">salary</span> <span class="o">&lt;</span> <span class="mi">40000</span> <span class="k">THEN</span> <span class="mi">1</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì €ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">salary</span> <span class="k">BETWEEN</span> <span class="mi">40000</span> <span class="k">AND</span> <span class="mi">60000</span> <span class="k">THEN</span> <span class="mi">1</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì¤‘ê¸‰ì—¬</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">salary</span> <span class="o">&gt;</span> <span class="mi">60000</span> <span class="k">THEN</span> <span class="mi">1</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ê³ ê¸‰ì—¬</span><span class="p">,</span>
    <span class="n">ROUND</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">salary</span> <span class="o">&lt;</span> <span class="mi">40000</span> <span class="k">THEN</span> <span class="n">salary</span> <span class="k">END</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span> <span class="k">AS</span> <span class="err">ì €ê¸‰ì—¬í‰ê· </span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h3 id="ì˜ˆì œ-5-ì„œë¸Œì¿¼ë¦¬ì™€-group-by">ì˜ˆì œ 5: ì„œë¸Œì¿¼ë¦¬ì™€ GROUP BY</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ê° ë¶€ì„œì˜ í‰ê·  ê¸‰ì—¬ë³´ë‹¤ ë†’ì€ ê¸‰ì—¬ë¥¼ ë°›ëŠ” ì§ì› ìˆ˜</span>
<span class="k">SELECT</span> 
    <span class="n">e</span><span class="p">.</span><span class="n">department</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="err">í‰ê· ì´ìƒì§ì›ìˆ˜</span>
<span class="k">FROM</span> <span class="n">employees</span> <span class="n">e</span>
<span class="k">WHERE</span> <span class="n">e</span><span class="p">.</span><span class="n">salary</span> <span class="o">&gt;</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> 
    <span class="k">FROM</span> <span class="n">employees</span> 
    <span class="k">WHERE</span> <span class="n">department</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">department</span>
<span class="p">)</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">e</span><span class="p">.</span><span class="n">department</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="-ê³ ê¸‰-í™œìš©">ğŸ’¡ ê³ ê¸‰ í™œìš©</h2>

<h3 id="1-rollup---ì†Œê³„ì™€-ì´ê³„">1. ROLLUP - ì†Œê³„ì™€ ì´ê³„</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ë¶€ì„œë³„ ì†Œê³„ + ì „ì²´ ì´ê³„</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cnt</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">total</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span> <span class="k">WITH</span> <span class="k">ROLLUP</span><span class="p">;</span>
</code></pre></div></div>

<p>ê²°ê³¼:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>department | cnt | total
-----------|-----|--------
IT         | 25  | 1375000
HR         | 15  | 675000
Sales      | 30  | 1350000
Marketing  | 20  | 900000
Finance    | 10  | 550000
NULL       | 100 | 4850000  â† ì´ê³„
</code></pre></div></div>

<hr />

<h3 id="2-ìœˆë„ìš°-í•¨ìˆ˜ì™€-ë¹„êµ">2. ìœˆë„ìš° í•¨ìˆ˜ì™€ ë¹„êµ</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- GROUP BY: ê·¸ë£¹ë‹¹ í•˜ë‚˜ì˜ í–‰</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">avg_salary</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 5ê°œ í–‰ (ë¶€ì„œ ìˆ˜ë§Œí¼)</span>

<span class="c1">-- ìœˆë„ìš° í•¨ìˆ˜: ëª¨ë“  í–‰ ìœ ì§€</span>
<span class="k">SELECT</span> 
    <span class="n">name</span><span class="p">,</span> 
    <span class="n">department</span><span class="p">,</span> 
    <span class="n">salary</span><span class="p">,</span>
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">PARTITION</span> <span class="k">BY</span> <span class="n">department</span><span class="p">)</span> <span class="k">AS</span> <span class="n">dept_avg</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>
<span class="c1">-- ê²°ê³¼: 100ê°œ í–‰ (ì „ì²´ ì§ì› ìˆ˜ë§Œí¼)</span>
</code></pre></div></div>

<hr />

<h3 id="3-havingì—ì„œ-ë³„ì¹­alias-ì‚¬ìš©-ë¶ˆê°€">3. HAVINGì—ì„œ ë³„ì¹­(Alias) ì‚¬ìš© ë¶ˆê°€</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- âŒ ì—ëŸ¬ ë°œìƒ</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span> 
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">avg_sal</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="n">avg_sal</span> <span class="o">&gt;</span> <span class="mi">50000</span><span class="p">;</span>  <span class="c1">-- ë³„ì¹­ ì‚¬ìš© ë¶ˆê°€</span>

<span class="c1">-- âœ… ì˜¬ë°”ë¥¸ ë°©ë²•</span>
<span class="k">SELECT</span> 
    <span class="n">department</span><span class="p">,</span> 
    <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="k">AS</span> <span class="n">avg_sal</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50000</span><span class="p">;</span>  <span class="c1">-- ì›ë³¸ ì‹ ì‚¬ìš©</span>
</code></pre></div></div>

<hr />

<h2 id="-sql-ì‹¤í–‰-ìˆœì„œ-ì¤‘ìš”">ğŸ“ SQL ì‹¤í–‰ ìˆœì„œ (ì¤‘ìš”!)</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">cnt</span>    <span class="c1">-- 5. ê²°ê³¼ ì¶œë ¥</span>
<span class="k">FROM</span> <span class="n">employees</span>                        <span class="c1">-- 1. í…Œì´ë¸” ì„ íƒ</span>
<span class="k">WHERE</span> <span class="n">salary</span> <span class="o">&gt;=</span> <span class="mi">40000</span>                 <span class="c1">-- 2. í–‰ í•„í„°ë§</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>                   <span class="c1">-- 3. ê·¸ë£¹í™”</span>
<span class="k">HAVING</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">10</span>                 <span class="c1">-- 4. ê·¸ë£¹ í•„í„°ë§</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">cnt</span> <span class="k">DESC</span>                     <span class="c1">-- 6. ì •ë ¬</span>
<span class="k">LIMIT</span> <span class="mi">3</span><span class="p">;</span>                              <span class="c1">-- 7. í–‰ ìˆ˜ ì œí•œ</span>
</code></pre></div></div>

<p><strong>ì‹¤í–‰ ìˆœì„œ:</strong></p>

<ol>
  <li>FROM - í…Œì´ë¸” ì„ íƒ</li>
  <li>WHERE - ê°œë³„ í–‰ í•„í„°ë§</li>
  <li>GROUP BY - ê·¸ë£¹í™”</li>
  <li>HAVING - ê·¸ë£¹ í•„í„°ë§</li>
  <li>SELECT - ì»¬ëŸ¼ ì„ íƒ ë° ì§‘ê³„</li>
  <li>ORDER BY - ì •ë ¬</li>
  <li>LIMIT - í–‰ ìˆ˜ ì œí•œ</li>
</ol>

<hr />

<h2 id="ï¸-ìì£¼-í•˜ëŠ”-ì‹¤ìˆ˜">âš ï¸ ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜</h2>

<h3 id="1-group-by-ì—†ì´-ì§‘ê³„í•¨ìˆ˜-ì‚¬ìš©">1. GROUP BY ì—†ì´ ì§‘ê³„í•¨ìˆ˜ ì‚¬ìš©</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- âŒ ì—ëŸ¬ (MySQL 5.7 ì´ìƒ)</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">employees</span><span class="p">;</span>

<span class="c1">-- âœ… ì˜¬ë°”ë¥¸ ë°©ë²•</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-whereì—ì„œ-ì§‘ê³„í•¨ìˆ˜-ì‚¬ìš©">2. WHEREì—ì„œ ì§‘ê³„í•¨ìˆ˜ ì‚¬ìš©</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- âŒ ì—ëŸ¬</span>
<span class="k">SELECT</span> <span class="n">department</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50000</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>

<span class="c1">-- âœ… HAVING ì‚¬ìš©</span>
<span class="k">SELECT</span> <span class="n">department</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span>
<span class="k">HAVING</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50000</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-selectì˜-ëª¨ë“ -ì»¬ëŸ¼ì´-group-byì—-ì—†ìŒ">3. SELECTì˜ ëª¨ë“  ì»¬ëŸ¼ì´ GROUP BYì— ì—†ìŒ</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- âŒ ì—ëŸ¬</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>

<span class="c1">-- âœ… ì§‘ê³„í•¨ìˆ˜ ì‚¬ìš© ë˜ëŠ” GROUP BYì— ì¶”ê°€</span>
<span class="k">SELECT</span> <span class="n">department</span><span class="p">,</span> <span class="k">COUNT</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">AS</span> <span class="n">name_count</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">department</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="-ì‹¤ì „-ì—°ìŠµ-ë¬¸ì œ">ğŸ“ ì‹¤ì „ ì—°ìŠµ ë¬¸ì œ</h2>

<h3 id="ë¬¸ì œ-1">ë¬¸ì œ 1</h3>

<p>ë¶€ì„œë³„ë¡œ í‰ê·  ê¸‰ì—¬ê°€ ê°€ì¥ ë†’ì€ ìƒìœ„ 3ê°œ ë¶€ì„œë¥¼ ì¡°íšŒí•˜ì„¸ìš”.</p>

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

```sql
SELECT 
    department,
    ROUND(AVG(salary), 0) AS avg_salary
FROM employees
GROUP BY department
ORDER BY avg_salary DESC
LIMIT 3;
```

</details>

<h3 id="ë¬¸ì œ-2">ë¬¸ì œ 2</h3>

<p>2020ë…„ ì´í›„ ì…ì‚¬ì ì¤‘, ë¶€ì„œë³„ ì¸ì›ì´ 5ëª… ì´ìƒì¸ ë¶€ì„œì˜ í‰ê·  ê¸‰ì—¬ë¥¼ ì¡°íšŒí•˜ì„¸ìš”.</p>

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

```sql
SELECT 
    department,
    COUNT(*) AS emp_count,
    AVG(salary) AS avg_salary
FROM employees
WHERE hire_date &gt;= '2020-01-01'
GROUP BY department
HAVING COUNT(*) &gt;= 5;
```

</details>

<h3 id="ë¬¸ì œ-3">ë¬¸ì œ 3</h3>

<p>ì§ê¸‰ë³„ë¡œ ë‚¨ì„±ê³¼ ì—¬ì„±ì˜ í‰ê·  ê¸‰ì—¬ ì°¨ì´ë¥¼ ì¡°íšŒí•˜ì„¸ìš”.</p>

<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>

```sql
SELECT 
    position,
    AVG(CASE WHEN gender = 'M' THEN salary END) AS male_avg,
    AVG(CASE WHEN gender = 'F' THEN salary END) AS female_avg,
    AVG(CASE WHEN gender = 'M' THEN salary END) - 
    AVG(CASE WHEN gender = 'F' THEN salary END) AS gap
FROM employees
GROUP BY position;
```

</details>

<hr />

<p>ì´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ SQL ì¿¼ë¦¬ë¥¼ ë§ì´ ì‘ì„±í•´ë³´ì„¸ìš”. ë‹¤ìŒ ì£¼ì œ(ë„¤íŠ¸ì›Œí¬, ìë£Œêµ¬ì¡° ë“±)ë„ í•„ìš”í•˜ì‹œë©´ ë§ì”€í•´ì£¼ì„¸ìš”!â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹</p>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 yunYoung e. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
