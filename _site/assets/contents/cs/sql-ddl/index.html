<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>DDL/DML/DCL - Second Brain</title>
<meta name="description" content="2026년 목표: 개발로 월급받기추가 정보 없음">


  <meta name="author" content="yunYoung e">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Second Brain">
<meta property="og:title" content="DDL/DML/DCL">
<meta property="og:url" content="http://0.0.0.0:4000/assets/contents/cs/sql-ddl/">


  <meta property="og:description" content="2026년 목표: 개발로 월급받기추가 정보 없음">












<link rel="canonical" href="http://0.0.0.0:4000/assets/contents/cs/sql-ddl/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "yunYoung e",
      "url": "http://0.0.0.0:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Second Brain Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>


  
    <script src="/assets/js/custom.js"></script>
  


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Second Brain
          <span class="site-subtitle">뇌정리노트</span>
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
<h1 id="ddldmldcl">DDL/DML/DCL</h1>

<h1 id="ddl">DDL</h1>
<blockquote>
  <p>Data Define Language
데이터 정의어 - 테이블 구조 관리</p>
</blockquote>

<h2 id="domain">DOMAIN</h2>

<blockquote>
  <p>도메인이란 하나의 속성이 취할 수 있는 동일한 유형의 원자값들의 집합이다.</p>
</blockquote>

<h3 id="ddl로-domain-다루기">DDL로 DOMAIN 다루기</h3>
<p>DDL {CREATE, ALTER, DROP}</p>

<h3 id="create-domain">CREATE DOMAIN</h3>
<p><strong>1. 성별도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">SEX</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">DEFAULT</span> <span class="s1">'남'</span>  
    <span class="k">CONSTRAINT</span> <span class="k">VALID</span><span class="o">-</span><span class="n">SEX</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span><span class="p">(</span><span class="s1">'남'</span><span class="p">,</span> <span class="s1">'여'</span><span class="p">));</span>  
</code></pre></div></div>

<p><strong>2. 이메일 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">EMAIL</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>  
    <span class="k">CONSTRAINT</span> <span class="k">VALID</span><span class="o">-</span><span class="n">EMAIL</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="k">LIKE</span> <span class="s1">'%@%.%);
</span></code></pre></div></div>
<p><strong>3. 나이 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">AGE</span> <span class="nb">INTEGER</span>
    <span class="k">DEFAULT</span> <span class="mi">0</span>
    <span class="n">CONATRAINT</span> <span class="n">VALID_AGE</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">AND</span> <span class="n">VALUE</span> <span class="o">&lt;=</span> <span class="mi">150</span><span class="p">);</span>
</code></pre></div></div>
<p><strong>4. 전화번호 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">PHONE_NUMBER</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>  
    <span class="k">CONSTRAINT</span> <span class="n">VALID_PHONE</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="k">LIKE</span> <span class="s1">'___-____-____'</span><span class="p">);</span>
 
</code></pre></div></div>

<p><strong>5. 급여 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">SALARY</span> <span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">DEFAULT</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>
    <span class="k">CONSTRAINT</span> <span class="n">VALID_SALARY</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>6. 학점 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">GRADE</span> <span class="n">CAHR</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">CONSTRAINT</span> <span class="n">VALID_GRADE</span> <span class="k">CHECK</span> <span class="p">(</span><span class="n">VALUE</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">,</span> <span class="s1">'D'</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">))</span>
</code></pre></div></div>

<p><strong>7. 우편번호 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">POSTAL_CODE</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">CONSTRAINT</span> <span class="n">VALID_POSTAL</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="k">SIMILAR</span> <span class="k">TO</span> <span class="s1">'[0-9]{5});
</span></code></pre></div></div>

<p><strong>8. URL 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="n">DOMIAN</span> <span class="n">URL</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
    <span class="k">CONSTRAINT</span> <span class="n">VALID_URL</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="k">LIKE</span> <span class="s1">'http://%'</span> <span class="k">OR</span> <span class="n">VALUE</span> <span class="k">LIKE</span> <span class="s1">'https://%'</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>9. 백분율 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">PERCENTAGE</span> <span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">DEFAULT</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>
    <span class="k">CONSTRAINT</span> <span class="n">VALID_PERCENTAGE</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="k">AND</span> <span class="n">VALUE</span> <span class="o">&lt;==</span> <span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="o">&gt;</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>10. 상태 코드 도메인</strong></p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">DOMAIN</span> <span class="n">STATUS_CODE</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">DEFAULT</span> <span class="s1">'AC'</span>
    <span class="k">CONSTRAINT</span> <span class="n">VALID_STATUS</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'AC'</span><span class="p">,</span> <span class="s1">'IN'</span><span class="p">,</span> <span class="s1">'PE'</span><span class="p">,</span> <span class="s1">'CL'</span><span class="p">));</span>
</code></pre></div></div>

<h3 id="alter-domain">ALTER DOMAIN</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">DOMAIN</span> <span class="n">SALARY</span>
    <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">MIN_SALARY</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">VALUE</span><span class="o">&gt;=</span><span class="mi">1000000</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="drop-domain">DROP DOMAIN</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">DOMAIN</span> <span class="n">SEX</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>
<p>CASCADE : 해당 도메인을 사용하는 모든 컬럼도 함께 처리</p>

<h3 id="domain-사용-예시">DOMAIN 사용 예시</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> <span class="p">(</span>
    <span class="n">EMP_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">EMP_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">EMP_SEX</span> <span class="n">SEX</span><span class="p">,</span>
    <span class="n">EMP_AGE</span> <span class="n">AGE</span><span class="p">,</span>
    <span class="n">EMP_EMAIL</span> <span class="n">EMAIL</span><span class="p">,</span>
    <span class="n">EMP_PHONE</span> <span class="n">PHONE_NUMBER</span><span class="p">,</span>
    <span class="n">EMP_SALARY</span> <span class="n">SALARY</span>
<span class="p">);</span>
</code></pre></div></div>

<p>참고: MySQL은 DOMAIN을 지원하지 않으므로, CHECK 제약조건을 테이블 레벨에서 직접 사용해야 한다.</p>

<h3 id="numeric-vs-decimal">NUMERIC vs DECIMAL</h3>
<p>표준 SQL에서는 NUMERIC과 DECIMAL이 동일하다:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></div>
<p>권장사항</p>
<ol>
  <li>개인/팀 선호도에 따라 선택</li>
  <li>일관성 유지가 중요 (프로젝트 내에서 하나만 사용)</li>
  <li>일반적으로 DECIMAL이 더 널리 사용됨</li>
</ol>

<h2 id="table">TABLE</h2>

<h3 id="create-table">CREATE TABLE</h3>

<h3 id="기본-구문">기본 구문</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="p">(</span>
    <span class="err">컬럼명</span><span class="mi">1</span> <span class="err">데이터타입</span> <span class="p">[</span><span class="err">제약조건</span><span class="p">],</span>
    <span class="err">컬럼명</span><span class="mi">2</span> <span class="err">데이터타입</span> <span class="p">[</span><span class="err">제약조건</span><span class="p">],</span>
    <span class="p">...</span>
    <span class="p">[</span><span class="err">테이블</span><span class="n">_</span><span class="err">제약조건</span><span class="p">]</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="주요-제약조건">주요 제약조건</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> <span class="p">(</span>
    <span class="c1">-- PRIMARY KEY: 기본키 (NOT NULL + UNIQUE)</span>
    <span class="n">EMP_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    
    <span class="c1">-- NOT NULL: 필수 입력</span>
    <span class="n">EMP_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    
    <span class="c1">-- UNIQUE: 중복 불가</span>
    <span class="n">EMAIL</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">UNIQUE</span><span class="p">,</span>
    
    <span class="c1">-- DEFAULT: 기본값</span>
    <span class="n">HIRE_DATE</span> <span class="nb">DATE</span> <span class="k">DEFAULT</span> <span class="k">CURRENT_DATE</span><span class="p">,</span>
    
    <span class="c1">-- CHECK: 조건 검사</span>
    <span class="n">SALARY</span> <span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">SALARY</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">AGE</span> <span class="nb">INTEGER</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">AGE</span> <span class="o">&gt;=</span> <span class="mi">18</span> <span class="k">AND</span> <span class="n">AGE</span> <span class="o">&lt;=</span> <span class="mi">65</span><span class="p">),</span>
    
    <span class="c1">-- FOREIGN KEY: 외래키</span>
    <span class="n">DEPT_ID</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="k">CONSTRAINT</span> <span class="n">FK_DEPT</span> 
        <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">DEPT_ID</span><span class="p">)</span> 
        <span class="k">REFERENCES</span> <span class="n">DEPARTMENT</span><span class="p">(</span><span class="n">DEPT_ID</span><span class="p">)</span>
        <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span>
        <span class="k">ON</span> <span class="k">UPDATE</span> <span class="k">CASCADE</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="복합-키">복합 키</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ENROLLMENT</span> <span class="p">(</span>
    <span class="n">STUDENT_ID</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="n">COURSE_ID</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="n">GRADE</span> <span class="nb">CHAR</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
    <span class="c1">-- 복합 기본키</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">STUDENT_ID</span><span class="p">,</span> <span class="n">COURSE_ID</span><span class="p">),</span>
    <span class="c1">-- 복합 외래키</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">STUDENT_ID</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">STUDENT</span><span class="p">(</span><span class="n">STUDENT_ID</span><span class="p">),</span>
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">COURSE_ID</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">COURSE</span><span class="p">(</span><span class="n">COURSE_ID</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="다른-테이블로부터-생성">다른 테이블로부터 생성</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 구조 + 데이터 복사</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP_BACKUP</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- 구조만 복사</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMP_TEMPLATE</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span> <span class="k">WHERE</span> <span class="mi">1</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h3 id="alter-table">ALTER TABLE</h3>

<h3 id="컬럼-추가">컬럼 추가</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 기본</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ADD</span> <span class="k">COLUMN</span> <span class="n">PHONE</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>

<span class="c1">-- 제약조건 포함</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ADD</span> <span class="k">COLUMN</span> <span class="n">BIRTH_DATE</span> <span class="nb">DATE</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">DEFAULT</span> <span class="s1">'1990-01-01'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="컬럼-삭제">컬럼 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 기본</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">DROP</span> <span class="k">COLUMN</span> <span class="n">PHONE</span><span class="p">;</span>

<span class="c1">-- CASCADE: 해당 컬럼 참조하는 제약조건도 함께 삭제</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">DROP</span> <span class="k">COLUMN</span> <span class="n">DEPT_ID</span> <span class="k">CASCADE</span><span class="p">;</span>

<span class="c1">-- RESTRICT: 참조하는 객체 있으면 삭제 불가 (기본값)</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">DROP</span> <span class="k">COLUMN</span> <span class="n">DEPT_ID</span> <span class="k">RESTRICT</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="컬럼-수정">컬럼 수정</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 데이터 타입 변경</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">SALARY</span> <span class="k">TYPE</span> <span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="c1">-- 기본값 설정</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">HIRE_DATE</span> <span class="k">SET</span> <span class="k">DEFAULT</span> <span class="k">CURRENT_DATE</span><span class="p">;</span>

<span class="c1">-- 기본값 제거</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">HIRE_DATE</span> <span class="k">DROP</span> <span class="k">DEFAULT</span><span class="p">;</span>

<span class="c1">-- NOT NULL 추가</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">EMAIL</span> <span class="k">SET</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>

<span class="c1">-- NOT NULL 제거</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="n">EMAIL</span> <span class="k">DROP</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="컬럼명-변경">컬럼명 변경</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">RENAME</span> <span class="k">COLUMN</span> <span class="n">OLD_NAME</span> <span class="k">TO</span> <span class="n">NEW_NAME</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="제약조건-추가">제약조건 추가</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- PRIMARY KEY 추가</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ADD</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">EMP_ID</span><span class="p">);</span>

<span class="c1">-- FOREIGN KEY 추가</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">FK_DEPT</span> 
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">DEPT_ID</span><span class="p">)</span> 
    <span class="k">REFERENCES</span> <span class="n">DEPARTMENT</span><span class="p">(</span><span class="n">DEPT_ID</span><span class="p">)</span>
    <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">;</span>

<span class="c1">-- UNIQUE 추가</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">UK_EMAIL</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">EMAIL</span><span class="p">);</span>

<span class="c1">-- CHECK 추가</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">CHK_SALARY</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">SALARY</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="제약조건-삭제">제약조건 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 이름으로 삭제</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="n">FK_DEPT</span><span class="p">;</span>

<span class="c1">-- PRIMARY KEY 삭제</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">DROP</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">;</span>

<span class="c1">-- CASCADE로 연관 제약조건도 함께 삭제</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> 
<span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="n">FK_DEPT</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="테이블명-변경">테이블명 변경</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">OLD_TABLE_NAME</span> 
<span class="k">RENAME</span> <span class="k">TO</span> <span class="n">NEW_TABLE_NAME</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h3 id="drop-table">DROP TABLE</h3>

<h3 id="기본-삭제">기본 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 기본 (RESTRICT 동작)</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- 명시적 RESTRICT: 참조하는 객체 있으면 삭제 불가</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> <span class="k">RESTRICT</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="cascade-삭제">CASCADE 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 참조하는 모든 외래키, 뷰 등도 함께 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">DEPARTMENT</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="안전한-삭제">안전한 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 테이블 존재 시에만 삭제 (오류 방지)</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">EMPLOYEE</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="4-주요-차이점-비교">4. 주요 차이점 비교</h2>

<table>
  <thead>
    <tr>
      <th>명령어</th>
      <th>용도</th>
      <th>데이터</th>
      <th>롤백 가능</th>
      <th>속도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>CREATE TABLE</strong></td>
      <td>테이블 생성</td>
      <td>-</td>
      <td>가능 (DDL)</td>
      <td>-</td>
    </tr>
    <tr>
      <td><strong>ALTER TABLE</strong></td>
      <td>테이블 구조 변경</td>
      <td>유지</td>
      <td>가능 (DDL)</td>
      <td>빠름</td>
    </tr>
    <tr>
      <td><strong>DROP TABLE</strong></td>
      <td>테이블 삭제</td>
      <td>삭제</td>
      <td>가능 (DDL)</td>
      <td>빠름</td>
    </tr>
    <tr>
      <td><strong>TRUNCATE TABLE</strong></td>
      <td>데이터만 삭제</td>
      <td>삭제</td>
      <td>불가능</td>
      <td>매우 빠름</td>
    </tr>
    <tr>
      <td><strong>DELETE</strong></td>
      <td>데이터 삭제</td>
      <td>선택 삭제</td>
      <td>가능 (DML)</td>
      <td>느림</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="5-실무-예시">5. 실무 예시</h2>

<h3 id="초기-테이블-생성">초기 테이블 생성</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">CUSTOMER</span> <span class="p">(</span>
    <span class="n">CUSTOMER_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">EMAIL</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">UNIQUE</span><span class="p">,</span>
    <span class="n">PHONE</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
    <span class="n">CREATED_AT</span> <span class="nb">TIMESTAMP</span> <span class="k">DEFAULT</span> <span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="나중에-컬럼-추가">나중에 컬럼 추가</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 주소 컬럼 추가</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">CUSTOMER</span> 
<span class="k">ADD</span> <span class="k">COLUMN</span> <span class="n">ADDRESS</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>

<span class="c1">-- 포인트 컬럼 추가 (기본값 0)</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">CUSTOMER</span> 
<span class="k">ADD</span> <span class="k">COLUMN</span> <span class="n">POINTS</span> <span class="nb">INTEGER</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">CHECK</span><span class="p">(</span><span class="n">POINTS</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="외래키-추가">외래키 추가</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 주문 테이블 생성</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ORDERS</span> <span class="p">(</span>
    <span class="n">ORDER_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">ORDER_DATE</span> <span class="nb">DATE</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">CUSTOMER_ID</span> <span class="nb">INTEGER</span>
<span class="p">);</span>

<span class="c1">-- 외래키 제약조건 추가</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">ORDERS</span> 
<span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">FK_CUSTOMER</span> 
    <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">CUSTOMER_ID</span><span class="p">)</span> 
    <span class="k">REFERENCES</span> <span class="n">CUSTOMER</span><span class="p">(</span><span class="n">CUSTOMER_ID</span><span class="p">)</span>
    <span class="k">ON</span> <span class="k">DELETE</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="테이블-삭제-안전하게">테이블 삭제 (안전하게)</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 1. 참조 확인</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">TABLE_CONSTRAINTS</span> 
<span class="k">WHERE</span> <span class="k">TABLE_NAME</span> <span class="o">=</span> <span class="s1">'CUSTOMER'</span><span class="p">;</span>

<span class="c1">-- 2. 외래키 먼저 삭제</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">ORDERS</span> <span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="n">FK_CUSTOMER</span><span class="p">;</span>

<span class="c1">-- 3. 테이블 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">CUSTOMER</span><span class="p">;</span>

<span class="c1">-- 또는 한 번에 CASCADE</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">CUSTOMER</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="6-주의사항">6. 주의사항</h2>

<h3 id="create-table-1">CREATE TABLE</h3>
<ul>
  <li>✔ 테이블명, 컬럼명은 명확하게</li>
  <li>✔ 적절한 데이터 타입 선택</li>
  <li>✔ NOT NULL, PRIMARY KEY 등 제약조건 명시</li>
  <li>!! 너무 많은 컬럼은 정규화 검토</li>
</ul>

<h3 id="alter-table-1">ALTER TABLE</h3>
<ul>
  <li>✔ 운영 중인 테이블 수정 시 주의</li>
  <li>✔ NOT NULL 추가 전 기존 데이터 확인</li>
  <li>!! 데이터 타입 변경 시 데이터 손실 가능</li>
  <li>!! 대용량 테이블은 시간 오래 걸림</li>
</ul>

<h3 id="drop-table-1">DROP TABLE</h3>
<ul>
  <li>!! <strong>데이터 영구 삭제 - 복구 불가</strong></li>
  <li>✔ 운영 환경에서는 백업 필수</li>
  <li>✔ CASCADE 사용 시 영향 범위 확인</li>
  <li>✔ IF EXISTS로 오류 방지</li>
</ul>

<hr />

<h2 id="7-빠른-참조">7. 빠른 참조</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 생성</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="p">(</span><span class="err">컬럼</span> <span class="err">정의</span><span class="p">...);</span>

<span class="c1">-- 수정</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">ADD</span> <span class="k">COLUMN</span> <span class="err">컬럼명</span> <span class="err">타입</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">DROP</span> <span class="k">COLUMN</span> <span class="err">컬럼명</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">ALTER</span> <span class="k">COLUMN</span> <span class="err">컬럼명</span> <span class="k">TYPE</span> <span class="err">새타입</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="err">제약조건명</span> <span class="err">제약조건</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="err">제약조건명</span><span class="p">;</span>

<span class="c1">-- 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="err">테이블명</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">CASCADE</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="err">테이블명</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="sql-스키마뷰인덱스-핵심-정리">SQL 스키마/뷰/인덱스 핵심 정리</h1>

<h2 id="1-create-schema-스키마-생성">1. CREATE SCHEMA (스키마 생성)</h2>

<h3 id="기본-개념">기본 개념</h3>
<ul>
  <li><strong>스키마</strong>: 데이터베이스 객체들(테이블, 뷰, 인덱스 등)의 논리적 그룹</li>
  <li><strong>네임스페이스</strong> 역할 (이름 충돌 방지)</li>
  <li><strong>권한 관리</strong> 용이</li>
</ul>

<h3 id="기본-구문-1">기본 구문</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 단순 생성</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span><span class="p">;</span>

<span class="c1">-- 소유자 지정</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span> <span class="k">AUTHORIZATION</span> <span class="err">사용자명</span><span class="p">;</span>

<span class="c1">-- 스키마와 객체 동시 생성</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span>
    <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span> <span class="p">(</span>
        <span class="n">EMP_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
        <span class="n">EMP_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">EMP_VIEW</span> <span class="k">AS</span>
        <span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="실무-예시">실무 예시</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 회사 부서별 스키마</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">HR</span> <span class="k">AUTHORIZATION</span> <span class="n">hr_manager</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">SALES</span> <span class="k">AUTHORIZATION</span> <span class="n">sales_manager</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">FINANCE</span> <span class="k">AUTHORIZATION</span> <span class="n">finance_manager</span><span class="p">;</span>

<span class="c1">-- 개발 환경별 스키마</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">DEV</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">TEST</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">PROD</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="스키마-사용">스키마 사용</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 테이블 생성 시 스키마 지정</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">HR</span><span class="p">.</span><span class="n">EMPLOYEE</span> <span class="p">(</span>
    <span class="n">EMP_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">EMP_NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 테이블 조회 시 스키마 지정</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">HR</span><span class="p">.</span><span class="n">EMPLOYEE</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">SALES</span><span class="p">.</span><span class="n">CUSTOMER</span><span class="p">;</span>

<span class="c1">-- 기본 스키마 설정</span>
<span class="k">SET</span> <span class="k">SCHEMA</span> <span class="n">HR</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>  <span class="c1">-- HR.EMPLOYEE를 의미</span>
</code></pre></div></div>

<h3 id="스키마-삭제">스키마 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 빈 스키마만 삭제</span>
<span class="k">DROP</span> <span class="k">SCHEMA</span> <span class="n">HR</span> <span class="k">RESTRICT</span><span class="p">;</span>

<span class="c1">-- 스키마 내 모든 객체 함께 삭제</span>
<span class="k">DROP</span> <span class="k">SCHEMA</span> <span class="n">HR</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="2-create-view-뷰-생성">2. CREATE VIEW (뷰 생성)</h2>

<h3 id="기본-개념-1">기본 개념</h3>
<ul>
  <li><strong>뷰</strong>: 가상 테이블 (SELECT 쿼리 결과를 테이블처럼 사용)</li>
  <li><strong>데이터 저장 안 함</strong> (쿼리만 저장)</li>
  <li>보안, 복잡한 쿼리 단순화에 유용</li>
</ul>

<h3 id="기본-구문-2">기본 구문</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="err">뷰명</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="err">컬럼</span><span class="mi">1</span><span class="p">,</span> <span class="err">컬럼</span><span class="mi">2</span><span class="p">,</span> <span class="p">...</span>
<span class="k">FROM</span> <span class="err">테이블명</span>
<span class="k">WHERE</span> <span class="err">조건</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="단순-뷰">단순 뷰</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 특정 컬럼만 보이는 뷰</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">EMP_BASIC</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">DEPT_ID</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- 특정 조건의 데이터만 보이는 뷰</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">HIGH_SALARY_EMP</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">SALARY</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span>
<span class="k">WHERE</span> <span class="n">SALARY</span> <span class="o">&gt;=</span> <span class="mi">5000000</span><span class="p">;</span>

<span class="c1">-- 특정 부서 직원만 보이는 뷰</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">IT_DEPARTMENT</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span>
<span class="k">WHERE</span> <span class="n">DEPT_ID</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="복잡한-뷰">복잡한 뷰</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 조인 뷰</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">EMP_DEPT_VIEW</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">E</span><span class="p">.</span><span class="n">EMP_ID</span><span class="p">,</span> <span class="n">E</span><span class="p">.</span><span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">D</span><span class="p">.</span><span class="n">DEPT_NAME</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span> <span class="n">E</span>
<span class="k">JOIN</span> <span class="n">DEPARTMENT</span> <span class="n">D</span> <span class="k">ON</span> <span class="n">E</span><span class="p">.</span><span class="n">DEPT_ID</span> <span class="o">=</span> <span class="n">D</span><span class="p">.</span><span class="n">DEPT_ID</span><span class="p">;</span>

<span class="c1">-- 집계 함수 뷰</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">DEPT_SALARY_STAT</span> <span class="k">AS</span>
<span class="k">SELECT</span> 
    <span class="n">DEPT_ID</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">EMP_COUNT</span><span class="p">,</span>
    <span class="k">AVG</span><span class="p">(</span><span class="n">SALARY</span><span class="p">)</span> <span class="k">AS</span> <span class="n">AVG_SALARY</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">SALARY</span><span class="p">)</span> <span class="k">AS</span> <span class="n">MAX_SALARY</span><span class="p">,</span>
    <span class="k">MIN</span><span class="p">(</span><span class="n">SALARY</span><span class="p">)</span> <span class="k">AS</span> <span class="n">MIN_SALARY</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">DEPT_ID</span><span class="p">;</span>

<span class="c1">-- 서브쿼리 뷰</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">TOP_EARNERS</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">SALARY</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span>
<span class="k">WHERE</span> <span class="n">SALARY</span> <span class="o">&gt;</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">SALARY</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="뷰-컬럼명-지정">뷰 컬럼명 지정</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 컬럼명 변경</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">EMP_INFO</span> <span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">NAME</span><span class="p">,</span> <span class="n">SAL</span><span class="p">)</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">SALARY</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- 계산된 컬럼</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">EMP_ANNUAL_SALARY</span> <span class="k">AS</span>
<span class="k">SELECT</span> 
    <span class="n">EMP_ID</span><span class="p">,</span>
    <span class="n">EMP_NAME</span><span class="p">,</span>
    <span class="n">SALARY</span><span class="p">,</span>
    <span class="n">SALARY</span> <span class="o">*</span> <span class="mi">12</span> <span class="k">AS</span> <span class="n">ANNUAL_SALARY</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="with-check-option">WITH CHECK OPTION</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 뷰를 통한 INSERT/UPDATE 시 WHERE 조건 강제</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">HIGH_SALARY_EMP</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">SALARY</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span>
<span class="k">WHERE</span> <span class="n">SALARY</span> <span class="o">&gt;=</span> <span class="mi">5000000</span>
<span class="k">WITH</span> <span class="k">CHECK</span> <span class="k">OPTION</span><span class="p">;</span>

<span class="c1">-- 이 경우 SALARY &lt; 5000000인 데이터 입력/수정 불가</span>
<span class="c1">-- INSERT INTO HIGH_SALARY_EMP VALUES (1, 'Kim', 3000000);  -- 오류!</span>
</code></pre></div></div>

<h3 id="뷰-사용">뷰 사용</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 일반 테이블처럼 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP_DEPT_VIEW</span><span class="p">;</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">DEPT_SALARY_STAT</span>
<span class="k">WHERE</span> <span class="n">EMP_COUNT</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">;</span>

<span class="c1">-- 뷰를 이용한 다른 뷰 생성</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">SENIOR_EMP</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMP_BASIC</span>
<span class="k">WHERE</span> <span class="n">EMP_ID</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="뷰-수정삭제">뷰 수정/삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 뷰 수정 (기존 뷰 대체)</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">VIEW</span> <span class="n">EMP_BASIC</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">DEPT_ID</span><span class="p">,</span> <span class="n">HIRE_DATE</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- 뷰 삭제</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="n">EMP_BASIC</span><span class="p">;</span>

<span class="c1">-- CASCADE: 해당 뷰를 참조하는 뷰도 함께 삭제</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="n">EMP_BASIC</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="뷰의-장단점">뷰의 장단점</h3>

<h4 id="장점-">장점 ✅</h4>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 1. 보안: 민감한 컬럼 숨김</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">PUBLIC_EMP</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">,</span> <span class="n">DEPT_ID</span>
<span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>  <span class="c1">-- SALARY, SSN 등 제외</span>

<span class="c1">-- 2. 복잡한 쿼리 단순화</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">MONTHLY_SALES_REPORT</span> <span class="k">AS</span>
<span class="k">SELECT</span> 
    <span class="n">P</span><span class="p">.</span><span class="n">PRODUCT_NAME</span><span class="p">,</span>
    <span class="k">EXTRACT</span><span class="p">(</span><span class="nb">YEAR</span> <span class="k">FROM</span> <span class="n">O</span><span class="p">.</span><span class="n">ORDER_DATE</span><span class="p">)</span> <span class="k">AS</span> <span class="nb">YEAR</span><span class="p">,</span>
    <span class="k">EXTRACT</span><span class="p">(</span><span class="k">MONTH</span> <span class="k">FROM</span> <span class="n">O</span><span class="p">.</span><span class="n">ORDER_DATE</span><span class="p">)</span> <span class="k">AS</span> <span class="k">MONTH</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="n">OI</span><span class="p">.</span><span class="n">QUANTITY</span> <span class="o">*</span> <span class="n">OI</span><span class="p">.</span><span class="n">PRICE</span><span class="p">)</span> <span class="k">AS</span> <span class="n">TOTAL_SALES</span>
<span class="k">FROM</span> <span class="n">ORDERS</span> <span class="n">O</span>
<span class="k">JOIN</span> <span class="n">ORDER_ITEMS</span> <span class="n">OI</span> <span class="k">ON</span> <span class="n">O</span><span class="p">.</span><span class="n">ORDER_ID</span> <span class="o">=</span> <span class="n">OI</span><span class="p">.</span><span class="n">ORDER_ID</span>
<span class="k">JOIN</span> <span class="n">PRODUCTS</span> <span class="n">P</span> <span class="k">ON</span> <span class="n">OI</span><span class="p">.</span><span class="n">PRODUCT_ID</span> <span class="o">=</span> <span class="n">P</span><span class="p">.</span><span class="n">PRODUCT_ID</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">P</span><span class="p">.</span><span class="n">PRODUCT_NAME</span><span class="p">,</span> <span class="nb">YEAR</span><span class="p">,</span> <span class="k">MONTH</span><span class="p">;</span>

<span class="c1">-- 사용: 간단하게 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">MONTHLY_SALES_REPORT</span> <span class="k">WHERE</span> <span class="nb">YEAR</span> <span class="o">=</span> <span class="mi">2024</span><span class="p">;</span>

<span class="c1">-- 3. 데이터 독립성</span>
<span class="c1">-- 테이블 구조 변경 시 뷰만 수정하면 응용 프로그램 영향 최소화</span>
</code></pre></div></div>

<h4 id="단점-️">단점 ⚠️</h4>
<ul>
  <li>복잡한 뷰는 성능 저하</li>
  <li>일부 뷰는 UPDATE/INSERT 불가</li>
  <li>인덱스 생성 불가</li>
</ul>

<hr />

<h2 id="3-create-index-인덱스-생성">3. CREATE INDEX (인덱스 생성)</h2>

<h3 id="기본-개념-2">기본 개념</h3>
<ul>
  <li><strong>인덱스</strong>: 테이블 데이터의 빠른 검색을 위한 구조</li>
  <li><strong>책의 색인</strong>과 유사</li>
  <li>SELECT 성능 향상, INSERT/UPDATE/DELETE 성능 저하</li>
</ul>

<h3 id="기본-구문-3">기본 구문</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="err">인덱스명</span>
<span class="k">ON</span> <span class="err">테이블명</span> <span class="p">(</span><span class="err">컬럼명</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="단일-컬럼-인덱스">단일 컬럼 인덱스</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 자주 검색되는 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_EMP_NAME</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">EMP_NAME</span><span class="p">);</span>

<span class="c1">-- 외래키 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_EMP_DEPT</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">DEPT_ID</span><span class="p">);</span>

<span class="c1">-- 날짜 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ORDER_DATE</span>
<span class="k">ON</span> <span class="n">ORDERS</span> <span class="p">(</span><span class="n">ORDER_DATE</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="복합-인덱스-다중-컬럼">복합 인덱스 (다중 컬럼)</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 두 컬럼을 함께 검색하는 경우</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_EMP_DEPT_NAME</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">DEPT_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span><span class="p">);</span>

<span class="c1">-- 세 컬럼 복합 인덱스</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ORDER_SEARCH</span>
<span class="k">ON</span> <span class="n">ORDERS</span> <span class="p">(</span><span class="n">CUSTOMER_ID</span><span class="p">,</span> <span class="n">ORDER_DATE</span><span class="p">,</span> <span class="n">STATUS</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="unique-인덱스">UNIQUE 인덱스</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 중복 값 허용 안 함</span>
<span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="n">IDX_EMP_EMAIL</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">EMAIL</span><span class="p">);</span>

<span class="c1">-- 복합 유니크 인덱스</span>
<span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="n">IDX_ENROLLMENT</span>
<span class="k">ON</span> <span class="n">ENROLLMENT</span> <span class="p">(</span><span class="n">STUDENT_ID</span><span class="p">,</span> <span class="n">COURSE_ID</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="정렬-방향-지정">정렬 방향 지정</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 오름차순 (기본값)</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_SALARY_ASC</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">SALARY</span> <span class="k">ASC</span><span class="p">);</span>

<span class="c1">-- 내림차순</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_SALARY_DESC</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">SALARY</span> <span class="k">DESC</span><span class="p">);</span>

<span class="c1">-- 복합 인덱스에서 각각 다른 정렬</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_DEPT_SALARY</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">DEPT_ID</span> <span class="k">ASC</span><span class="p">,</span> <span class="n">SALARY</span> <span class="k">DESC</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="부분-인덱스-조건부">부분 인덱스 (조건부)</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 특정 조건의 데이터만 인덱싱</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ACTIVE_EMP</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">EMP_NAME</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">STATUS</span> <span class="o">=</span> <span class="s1">'ACTIVE'</span><span class="p">;</span>

<span class="c1">-- 최근 데이터만 인덱싱</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_RECENT_ORDERS</span>
<span class="k">ON</span> <span class="n">ORDERS</span> <span class="p">(</span><span class="n">ORDER_DATE</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="n">ORDER_DATE</span> <span class="o">&gt;=</span> <span class="s1">'2024-01-01'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="함수-기반-인덱스">함수 기반 인덱스</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 대소문자 구분 없이 검색</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_UPPER_NAME</span>
<span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="k">UPPER</span><span class="p">(</span><span class="n">EMP_NAME</span><span class="p">));</span>

<span class="c1">-- 날짜의 연도만 인덱싱</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ORDER_YEAR</span>
<span class="k">ON</span> <span class="n">ORDERS</span> <span class="p">(</span><span class="k">EXTRACT</span><span class="p">(</span><span class="nb">YEAR</span> <span class="k">FROM</span> <span class="n">ORDER_DATE</span><span class="p">));</span>
</code></pre></div></div>

<h3 id="인덱스-삭제">인덱스 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">INDEX</span> <span class="n">IDX_EMP_NAME</span><span class="p">;</span>

<span class="c1">-- CASCADE: 관련 제약조건도 함께 삭제</span>
<span class="k">DROP</span> <span class="k">INDEX</span> <span class="n">IDX_EMP_EMAIL</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="인덱스-사용-예시">인덱스 사용 예시</h3>

<h4 id="before-인덱스-없음">Before (인덱스 없음)</h4>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 전체 테이블 스캔 (느림)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span> <span class="k">WHERE</span> <span class="n">EMP_NAME</span> <span class="o">=</span> <span class="s1">'Kim'</span><span class="p">;</span>
<span class="c1">-- 1,000,000 rows 중 1개 찾기 위해 전체 스캔</span>
</code></pre></div></div>

<h4 id="after-인덱스-있음">After (인덱스 있음)</h4>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_EMP_NAME</span> <span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">EMP_NAME</span><span class="p">);</span>

<span class="c1">-- 인덱스를 통한 빠른 검색</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span> <span class="k">WHERE</span> <span class="n">EMP_NAME</span> <span class="o">=</span> <span class="s1">'Kim'</span><span class="p">;</span>
<span class="c1">-- 인덱스를 통해 직접 접근 (매우 빠름)</span>
</code></pre></div></div>

<h3 id="인덱스-설계-가이드">인덱스 설계 가이드</h3>

<h4 id="인덱스-생성이-유리한-경우-">인덱스 생성이 유리한 경우 ✅</h4>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 1. WHERE 절에 자주 사용되는 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_STATUS</span> <span class="k">ON</span> <span class="n">ORDERS</span> <span class="p">(</span><span class="n">STATUS</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ORDERS</span> <span class="k">WHERE</span> <span class="n">STATUS</span> <span class="o">=</span> <span class="s1">'PENDING'</span><span class="p">;</span>

<span class="c1">-- 2. JOIN에 자주 사용되는 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_CUSTOMER_ID</span> <span class="k">ON</span> <span class="n">ORDERS</span> <span class="p">(</span><span class="n">CUSTOMER_ID</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ORDERS</span> <span class="n">O</span>
<span class="k">JOIN</span> <span class="n">CUSTOMER</span> <span class="k">C</span> <span class="k">ON</span> <span class="n">O</span><span class="p">.</span><span class="n">CUSTOMER_ID</span> <span class="o">=</span> <span class="k">C</span><span class="p">.</span><span class="n">CUSTOMER_ID</span><span class="p">;</span>

<span class="c1">-- 3. ORDER BY에 자주 사용되는 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ORDER_DATE</span> <span class="k">ON</span> <span class="n">ORDERS</span> <span class="p">(</span><span class="n">ORDER_DATE</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ORDERS</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ORDER_DATE</span> <span class="k">DESC</span><span class="p">;</span>

<span class="c1">-- 4. 범위 검색이 많은 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_SALARY</span> <span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">SALARY</span><span class="p">);</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span> <span class="k">WHERE</span> <span class="n">SALARY</span> <span class="k">BETWEEN</span> <span class="mi">3000000</span> <span class="k">AND</span> <span class="mi">5000000</span><span class="p">;</span>

<span class="c1">-- 5. 카디널리티(고유값 비율)가 높은 컬럼</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_EMAIL</span> <span class="k">ON</span> <span class="n">EMPLOYEE</span> <span class="p">(</span><span class="n">EMAIL</span><span class="p">);</span>  <span class="c1">-- 대부분 고유값</span>
</code></pre></div></div>

<h4 id="인덱스-생성을-피해야-하는-경우-️">인덱스 생성을 피해야 하는 경우 ⚠️</h4>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 1. 카디널리티가 낮은 컬럼 (성별, 불린 등)</span>
<span class="c1">-- CREATE INDEX IDX_GENDER ON EMPLOYEE (GENDER);  -- 비추천</span>

<span class="c1">-- 2. 자주 변경되는 컬럼</span>
<span class="c1">-- CREATE INDEX IDX_LAST_LOGIN ON USER (LAST_LOGIN_TIME);  -- 비추천</span>

<span class="c1">-- 3. 작은 테이블 (수백 행 이하)</span>
<span class="c1">-- 전체 스캔이 더 빠를 수 있음</span>

<span class="c1">-- 4. INSERT/UPDATE/DELETE가 많은 테이블</span>
<span class="c1">-- 인덱스 유지 비용이 큼</span>
</code></pre></div></div>

<hr />

<h2 id="4-종합-실무-예시">4. 종합 실무 예시</h2>

<h3 id="프로젝트-초기-설정">프로젝트 초기 설정</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 1. 스키마 생성</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">ECOMMERCE</span> <span class="k">AUTHORIZATION</span> <span class="k">admin</span><span class="p">;</span>

<span class="c1">-- 2. 스키마 내 테이블 생성</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">CUSTOMER</span> <span class="p">(</span>
    <span class="n">CUSTOMER_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">NAME</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">EMAIL</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">UNIQUE</span><span class="p">,</span>
    <span class="n">CREATED_AT</span> <span class="nb">TIMESTAMP</span> <span class="k">DEFAULT</span> <span class="k">CURRENT_TIMESTAMP</span>
<span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">ORDERS</span> <span class="p">(</span>
    <span class="n">ORDER_ID</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">CUSTOMER_ID</span> <span class="nb">INTEGER</span><span class="p">,</span>
    <span class="n">ORDER_DATE</span> <span class="nb">DATE</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">STATUS</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">DEFAULT</span> <span class="s1">'PENDING'</span><span class="p">,</span>
    <span class="n">TOTAL_AMOUNT</span> <span class="nb">NUMERIC</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
    <span class="k">CONSTRAINT</span> <span class="n">FK_CUSTOMER</span> 
        <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">CUSTOMER_ID</span><span class="p">)</span> 
        <span class="k">REFERENCES</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">CUSTOMER</span><span class="p">(</span><span class="n">CUSTOMER_ID</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- 3. 인덱스 생성</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_CUSTOMER_EMAIL</span> 
<span class="k">ON</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">CUSTOMER</span> <span class="p">(</span><span class="n">EMAIL</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ORDER_CUSTOMER</span> 
<span class="k">ON</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">ORDERS</span> <span class="p">(</span><span class="n">CUSTOMER_ID</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ORDER_DATE</span> 
<span class="k">ON</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">ORDERS</span> <span class="p">(</span><span class="n">ORDER_DATE</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">IDX_ORDER_STATUS</span> 
<span class="k">ON</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">ORDERS</span> <span class="p">(</span><span class="n">STATUS</span><span class="p">);</span>

<span class="c1">-- 4. 뷰 생성</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">CUSTOMER_ORDER_SUMMARY</span> <span class="k">AS</span>
<span class="k">SELECT</span> 
    <span class="k">C</span><span class="p">.</span><span class="n">CUSTOMER_ID</span><span class="p">,</span>
    <span class="k">C</span><span class="p">.</span><span class="n">NAME</span><span class="p">,</span>
    <span class="k">C</span><span class="p">.</span><span class="n">EMAIL</span><span class="p">,</span>
    <span class="k">COUNT</span><span class="p">(</span><span class="n">O</span><span class="p">.</span><span class="n">ORDER_ID</span><span class="p">)</span> <span class="k">AS</span> <span class="n">TOTAL_ORDERS</span><span class="p">,</span>
    <span class="k">SUM</span><span class="p">(</span><span class="n">O</span><span class="p">.</span><span class="n">TOTAL_AMOUNT</span><span class="p">)</span> <span class="k">AS</span> <span class="n">TOTAL_SPENT</span><span class="p">,</span>
    <span class="k">MAX</span><span class="p">(</span><span class="n">O</span><span class="p">.</span><span class="n">ORDER_DATE</span><span class="p">)</span> <span class="k">AS</span> <span class="n">LAST_ORDER_DATE</span>
<span class="k">FROM</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">CUSTOMER</span> <span class="k">C</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">ORDERS</span> <span class="n">O</span> <span class="k">ON</span> <span class="k">C</span><span class="p">.</span><span class="n">CUSTOMER_ID</span> <span class="o">=</span> <span class="n">O</span><span class="p">.</span><span class="n">CUSTOMER_ID</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="k">C</span><span class="p">.</span><span class="n">CUSTOMER_ID</span><span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="n">NAME</span><span class="p">,</span> <span class="k">C</span><span class="p">.</span><span class="n">EMAIL</span><span class="p">;</span>

<span class="c1">-- 5. 보안 뷰 (민감 정보 제외)</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">PUBLIC_CUSTOMER</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">CUSTOMER_ID</span><span class="p">,</span> <span class="n">NAME</span>
<span class="k">FROM</span> <span class="n">ECOMMERCE</span><span class="p">.</span><span class="n">CUSTOMER</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="사용">사용</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 기본 스키마 설정</span>
<span class="k">SET</span> <span class="k">SCHEMA</span> <span class="n">ECOMMERCE</span><span class="p">;</span>

<span class="c1">-- 뷰 조회</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">CUSTOMER_ORDER_SUMMARY</span>
<span class="k">WHERE</span> <span class="n">TOTAL_ORDERS</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">;</span>

<span class="c1">-- 인덱스를 활용한 빠른 검색</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">ORDERS</span> 
<span class="k">WHERE</span> <span class="n">STATUS</span> <span class="o">=</span> <span class="s1">'PENDING'</span>
<span class="k">AND</span> <span class="n">ORDER_DATE</span> <span class="o">&gt;=</span> <span class="s1">'2024-01-01'</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="5-비교-요약">5. 비교 요약</h2>

<table>
  <thead>
    <tr>
      <th>항목</th>
      <th>CREATE SCHEMA</th>
      <th>CREATE VIEW</th>
      <th>CREATE INDEX</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>목적</strong></td>
      <td>객체 그룹화</td>
      <td>쿼리 단순화</td>
      <td>검색 성능 향상</td>
    </tr>
    <tr>
      <td><strong>저장 내용</strong></td>
      <td>메타데이터</td>
      <td>쿼리 정의</td>
      <td>인덱스 구조</td>
    </tr>
    <tr>
      <td><strong>물리적 저장</strong></td>
      <td>없음</td>
      <td>없음</td>
      <td>있음</td>
    </tr>
    <tr>
      <td><strong>SELECT 성능</strong></td>
      <td>-</td>
      <td>동일/느림</td>
      <td>빠름</td>
    </tr>
    <tr>
      <td><strong>INSERT 성능</strong></td>
      <td>-</td>
      <td>-</td>
      <td>느림</td>
    </tr>
    <tr>
      <td><strong>주 사용처</strong></td>
      <td>권한/네임스페이스</td>
      <td>보안/추상화</td>
      <td>성능 최적화</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="6-빠른-참조">6. 빠른 참조</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- SCHEMA</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span> <span class="k">CASCADE</span><span class="p">;</span>

<span class="c1">-- VIEW</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="err">뷰명</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="p">...;</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">VIEW</span> <span class="err">뷰명</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="p">...;</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="err">뷰명</span> <span class="k">CASCADE</span><span class="p">;</span>

<span class="c1">-- INDEX</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="err">인덱스명</span> <span class="k">ON</span> <span class="err">테이블명</span> <span class="p">(</span><span class="err">컬럼명</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">UNIQUE</span> <span class="k">INDEX</span> <span class="err">인덱스명</span> <span class="k">ON</span> <span class="err">테이블명</span> <span class="p">(</span><span class="err">컬럼명</span><span class="p">);</span>
<span class="k">DROP</span> <span class="k">INDEX</span> <span class="err">인덱스명</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>핵심</strong>: 스키마는 조직화, 뷰는 단순화, 인덱스는 최적화!</p>

<h1 id="drop-명령어-핵심-정리">DROP 명령어 핵심 정리</h1>

<h2 id="기본-개념-3">기본 개념</h2>
<ul>
  <li><strong>DROP</strong>: 데이터베이스 객체를 완전히 삭제</li>
  <li><strong>영구 삭제</strong> - 복구 불가 (주의!)</li>
  <li>DDL(Data Definition Language) 명령어</li>
</ul>

<hr />

<h2 id="주요-drop-명령어">주요 DROP 명령어</h2>

<h3 id="1-drop-table">1. DROP TABLE</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 기본</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="err">테이블명</span><span class="p">;</span>

<span class="c1">-- 안전하게 (존재할 때만 삭제)</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="err">테이블명</span><span class="p">;</span>

<span class="c1">-- 참조 객체도 함께 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">CASCADE</span><span class="p">;</span>

<span class="c1">-- 참조 있으면 삭제 불가 (기본값)</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="err">테이블명</span> <span class="k">RESTRICT</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-drop-schema">2. DROP SCHEMA</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 빈 스키마만 삭제</span>
<span class="k">DROP</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span><span class="p">;</span>

<span class="c1">-- 스키마 내 모든 객체 함께 삭제</span>
<span class="k">DROP</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-drop-view">3. DROP VIEW</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 뷰 삭제</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="err">뷰명</span><span class="p">;</span>

<span class="c1">-- 해당 뷰를 참조하는 뷰도 함께 삭제</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="err">뷰명</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-drop-index">4. DROP INDEX</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 인덱스 삭제</span>
<span class="k">DROP</span> <span class="k">INDEX</span> <span class="err">인덱스명</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="5-drop-domain">5. DROP DOMAIN</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 도메인 삭제</span>
<span class="k">DROP</span> <span class="k">DOMAIN</span> <span class="err">도메인명</span><span class="p">;</span>

<span class="c1">-- 해당 도메인 사용 컬럼도 함께 처리</span>
<span class="k">DROP</span> <span class="k">DOMAIN</span> <span class="err">도메인명</span> <span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="6-drop-database">6. DROP DATABASE</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 데이터베이스 전체 삭제</span>
<span class="k">DROP</span> <span class="k">DATABASE</span> <span class="err">데이터베이스명</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="cascade-vs-restrict">CASCADE vs RESTRICT</h2>

<h3 id="restrict-기본값">RESTRICT (기본값)</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 다른 객체가 참조하면 삭제 불가</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">DEPARTMENT</span> <span class="k">RESTRICT</span><span class="p">;</span>
<span class="c1">-- → EMPLOYEE 테이블이 참조하면 오류 발생</span>
</code></pre></div></div>

<h3 id="cascade">CASCADE</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 참조하는 모든 객체도 함께 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">DEPARTMENT</span> <span class="k">CASCADE</span><span class="p">;</span>
<span class="c1">-- → EMPLOYEE의 외래키, 관련 뷰 등도 모두 삭제</span>
</code></pre></div></div>

<hr />

<h2 id="drop-vs-다른-명령어">DROP vs 다른 명령어</h2>

<table>
  <thead>
    <tr>
      <th>명령어</th>
      <th>대상</th>
      <th>복구</th>
      <th>속도</th>
      <th>롤백</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>DROP</strong></td>
      <td>구조+데이터</td>
      <td>불가</td>
      <td>빠름</td>
      <td>가능(DDL)</td>
    </tr>
    <tr>
      <td><strong>TRUNCATE</strong></td>
      <td>데이터만</td>
      <td>불가</td>
      <td>매우 빠름</td>
      <td>불가</td>
    </tr>
    <tr>
      <td><strong>DELETE</strong></td>
      <td>데이터(조건)</td>
      <td>가능</td>
      <td>느림</td>
      <td>가능(DML)</td>
    </tr>
  </tbody>
</table>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- DROP: 테이블 자체가 사라짐</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- TRUNCATE: 테이블은 남고 데이터만 삭제</span>
<span class="k">TRUNCATE</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- DELETE: 조건에 맞는 행만 삭제</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span> <span class="k">WHERE</span> <span class="n">DEPT_ID</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="주의사항-️">주의사항 ⚠️</h2>

<h3 id="1-영구-삭제">1. 영구 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">CUSTOMER</span><span class="p">;</span>
<span class="c1">-- 모든 데이터와 구조가 영구 삭제!</span>
<span class="c1">-- 백업 없으면 복구 불가!</span>
</code></pre></div></div>

<h3 id="2-cascade의-위험성">2. CASCADE의 위험성</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">DEPARTMENT</span> <span class="k">CASCADE</span><span class="p">;</span>
<span class="c1">-- 예상치 못한 다른 테이블/뷰도 삭제될 수 있음</span>
<span class="c1">-- 미리 영향 범위 확인 필수!</span>
</code></pre></div></div>

<h3 id="3-운영-환경-주의">3. 운영 환경 주의</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- ❌ 위험</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">ORDERS</span><span class="p">;</span>

<span class="c1">-- ✅ 안전</span>
<span class="c1">-- 1. 백업 먼저</span>
<span class="c1">-- 2. 영향 범위 확인</span>
<span class="c1">-- 3. IF EXISTS 사용</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">ORDERS_BACKUP</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="안전한-삭제-절차">안전한 삭제 절차</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 1단계: 백업</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">EMPLOYEE_BACKUP</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- 2단계: 참조 확인</span>
<span class="k">SELECT</span> <span class="o">*</span> 
<span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">TABLE_CONSTRAINTS</span>
<span class="k">WHERE</span> <span class="k">TABLE_NAME</span> <span class="o">=</span> <span class="s1">'EMPLOYEE'</span><span class="p">;</span>

<span class="c1">-- 3단계: 외래키 먼저 제거</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">ORDERS</span> <span class="k">DROP</span> <span class="k">CONSTRAINT</span> <span class="n">FK_EMPLOYEE</span><span class="p">;</span>

<span class="c1">-- 4단계: 안전하게 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">EMPLOYEE</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="실무-예시-1">실무 예시</h2>

<h3 id="테스트-환경-정리">테스트 환경 정리</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 임시 테이블들 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">TEMP_DATA</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">TEST_TABLE</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">BACKUP_OLD</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="스키마-전체-삭제">스키마 전체 삭제</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 개발 환경 초기화</span>
<span class="k">DROP</span> <span class="k">SCHEMA</span> <span class="n">DEV</span> <span class="k">CASCADE</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">DEV</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="뷰-재생성">뷰 재생성</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 뷰 삭제 후 재생성</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="n">EMP_SUMMARY</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">EMP_SUMMARY</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="n">EMP_ID</span><span class="p">,</span> <span class="n">EMP_NAME</span> <span class="k">FROM</span> <span class="n">EMPLOYEE</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="핵심-요약">핵심 요약</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 객체 삭제</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="err">테이블명</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">VIEW</span> <span class="err">뷰명</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">INDEX</span> <span class="err">인덱스명</span><span class="p">;</span>
<span class="k">DROP</span> <span class="k">SCHEMA</span> <span class="err">스키마명</span><span class="p">;</span>

<span class="c1">-- 옵션</span>
<span class="n">IF</span> <span class="k">EXISTS</span>          <span class="c1">-- 존재할 때만 삭제</span>
<span class="k">CASCADE</span>           <span class="c1">-- 참조 객체도 함께 삭제</span>
<span class="k">RESTRICT</span>          <span class="c1">-- 참조 있으면 삭제 불가</span>
</code></pre></div></div>

<p><strong>⚠️ DROP은 영구 삭제입니다. 신중하게 사용하세요!</strong></p>

<h1 id="dml">DML</h1>
<blockquote>
  <p>Data Manipulation Language</p>
</blockquote>

<p>데이터 조작어 - 데이터 관리</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- INSERT: 삽입</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">employees</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">salary</span><span class="p">)</span> 
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'홍길동'</span><span class="p">,</span> <span class="s1">'hong@example.com'</span><span class="p">,</span> <span class="mi">50000</span><span class="p">);</span>

<span class="c1">-- 여러 행 삽입</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">employees</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">salary</span><span class="p">)</span> 
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'김철수'</span><span class="p">,</span> <span class="mi">45000</span><span class="p">),</span> <span class="p">(</span><span class="s1">'이영희'</span><span class="p">,</span> <span class="mi">55000</span><span class="p">);</span>

<span class="c1">-- UPDATE: 수정</span>
<span class="k">UPDATE</span> <span class="n">employees</span> 
<span class="k">SET</span> <span class="n">salary</span> <span class="o">=</span> <span class="n">salary</span> <span class="o">*</span> <span class="mi">1</span><span class="p">.</span><span class="mi">1</span> 
<span class="k">WHERE</span> <span class="n">department</span> <span class="o">=</span> <span class="s1">'IT'</span><span class="p">;</span>

<span class="c1">-- DELETE: 삭제</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">employees</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<h1 id="dcl">DCL</h1>
<blockquote>
  <p>Data Control Language</p>
</blockquote>

<p>데이터 제어어 - 권한 관리</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- GRANT: 권한 부여</span>
<span class="k">GRANT</span> <span class="k">SELECT</span><span class="p">,</span> <span class="k">INSERT</span> <span class="k">ON</span> <span class="n">employees</span> <span class="k">TO</span> <span class="s1">'user1'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="n">company</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'admin'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>

<span class="c1">-- REVOKE: 권한 회수</span>
<span class="k">REVOKE</span> <span class="k">INSERT</span> <span class="k">ON</span> <span class="n">employees</span> <span class="k">FROM</span> <span class="s1">'user1'</span><span class="o">@</span><span class="s1">'localhost'</span><span class="p">;</span>

<span class="c1">-- COMMIT: 트랜잭션 확정</span>
<span class="k">COMMIT</span><span class="p">;</span>

<span class="c1">-- ROLLBACK: 트랜잭션 취소</span>
<span class="k">ROLLBACK</span><span class="p">;</span>
</code></pre></div></div>


    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 yunYoung e. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
